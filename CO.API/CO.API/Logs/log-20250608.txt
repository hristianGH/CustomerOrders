2025-06-08 12:01:15.645 +03:00 [INF] Starting web host
2025-06-08 12:01:16.314 +03:00 [DBG] Hosting starting
2025-06-08 12:01:16.549 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:03:25.623 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:03:25.683 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:03:25.684 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:03:25.685 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:03:25.710 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:03:41.586 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:03:41.595 +03:00 [DBG] Created DbConnection. (8ms).
2025-06-08 12:03:41.597 +03:00 [DBG] Opening connection to database '' on server ''.
2025-06-08 12:03:41.687 +03:00 [DBG] An error occurred using the connection to database '' on server ''.
2025-06-08 12:04:04.500 +03:00 [INF] Starting web host
2025-06-08 12:04:04.737 +03:00 [DBG] Hosting starting
2025-06-08 12:04:49.406 +03:00 [INF] Starting web host
2025-06-08 12:06:10.721 +03:00 [INF] Starting web host
2025-06-08 12:06:10.959 +03:00 [DBG] Hosting starting
2025-06-08 12:08:25.894 +03:00 [INF] Starting web host
2025-06-08 12:08:26.136 +03:00 [DBG] Hosting starting
2025-06-08 12:09:14.341 +03:00 [INF] Starting web host
2025-06-08 12:09:14.585 +03:00 [DBG] Hosting starting
2025-06-08 12:10:09.844 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:10:25.986 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:10:26.043 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:10:26.044 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:10:26.045 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:10:26.069 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:10:31.696 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:10:31.710 +03:00 [DBG] Created DbConnection. (14ms).
2025-06-08 12:10:31.713 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:10:31.830 +03:00 [DBG] An error occurred using the connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:11:23.251 +03:00 [INF] Starting web host
2025-06-08 12:11:23.489 +03:00 [DBG] Hosting starting
2025-06-08 12:11:52.173 +03:00 [INF] Starting web host
2025-06-08 12:11:52.424 +03:00 [DBG] Hosting starting
2025-06-08 12:12:01.285 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:12:04.142 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:12:04.199 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:12:04.199 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:12:04.200 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:12:04.225 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:12:16.998 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:12:17.013 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 12:12:17.015 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:17.115 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:17.119 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:12:17.122 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-08 12:12:17.123 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-06-08 12:12:17.126 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:17.137 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:17.139 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:17.142 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 12:12:21.534 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:21.535 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:21.536 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:12:21.536 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:21.537 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:21.537 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:21.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:21.539 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:21.540 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:12:25.220 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 12:12:25.848 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 12:12:25.850 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.850 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.851 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.852 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:12:25.852 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:25.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:25.853 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:25.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:25.855 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.855 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:12:25.856 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.856 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.857 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 12:12:25.858 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:12:25.859 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:12:25.859 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:12:25.860 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:12:25.874 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:12:25.924 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:12:25.927 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:12:25.928 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:12:25.929 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:25.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:12:25.930 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:12:25.941 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:12:25.942 +03:00 [DBG] Committing transaction.
2025-06-08 12:12:25.944 +03:00 [DBG] Committed transaction.
2025-06-08 12:12:25.944 +03:00 [DBG] Disposing transaction.
2025-06-08 12:12:25.945 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:12:25.946 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:12:25.947 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:12:25.948 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:25.948 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:12:25.949 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:25.950 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:12:25.950 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:12:25.951 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:12:25.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:12:25.952 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:12:25.952 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:12:25.954 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 12:12:25.954 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:12:25.955 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:12:25.956 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:12:25.961 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:12:25.962 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.963 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 12:12:25.966 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 12:12:25.966 +03:00 [DBG] Committing transaction.
2025-06-08 12:12:25.967 +03:00 [DBG] Committed transaction.
2025-06-08 12:12:25.967 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:12:25.968 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:12:25.968 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:12:25.969 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:12:25.973 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:12:25.973 +03:00 [DBG] Disposing transaction.
2025-06-08 12:12:25.974 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:25.974 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:12:26.705 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 12:12:30.104 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 12:12:30.106 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:12:30.107 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 12:12:30.214 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 12:12:30.338 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 12:12:30.338 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 12:12:30.339 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 12:12:30.339 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 12:12:30.340 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 12:12:30.340 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 12:12:30.376 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:12:30.377 +03:00 [INF] Hosting environment: Development
2025-06-08 12:12:30.377 +03:00 [INF] Content root path: C:\Users\hrist\source\repos\CO.API\CO.API
2025-06-08 12:12:30.378 +03:00 [DBG] Hosting started
2025-06-08 12:33:11.679 +03:00 [INF] Starting web host
2025-06-08 12:33:12.199 +03:00 [DBG] Hosting starting
2025-06-08 12:33:12.345 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:33:12.505 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:33:12.561 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:33:12.562 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:33:12.562 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:33:12.587 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:33:12.602 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:33:12.617 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 12:33:12.619 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.731 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.735 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:12.738 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 12:33:12.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 12:33:12.742 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:12.752 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:12.754 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.757 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 12:33:12.758 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 12:33:12.762 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 12:33:12.763 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.763 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.764 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.764 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:12.765 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:12.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:33:12.766 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:12.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:12.768 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.769 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:33:12.769 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.770 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.771 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 12:33:12.772 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:33:12.773 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:12.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:33:12.774 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:33:12.786 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:33:12.834 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:33:12.837 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:33:12.838 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:12.839 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:12.839 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:33:12.840 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:33:12.845 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:33:12.846 +03:00 [DBG] Committing transaction.
2025-06-08 12:33:12.848 +03:00 [DBG] Committed transaction.
2025-06-08 12:33:12.849 +03:00 [DBG] Disposing transaction.
2025-06-08 12:33:12.850 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:33:12.850 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:33:12.851 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:12.851 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:12.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:12.852 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:12.853 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:12.854 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:33:12.854 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:12.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:12.855 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:33:12.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:33:12.857 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 12:33:12.858 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:33:12.858 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 12:33:12.859 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:33:12.862 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:33:12.863 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.864 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 12:33:12.867 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 12:33:12.867 +03:00 [DBG] Committing transaction.
2025-06-08 12:33:12.867 +03:00 [DBG] Committed transaction.
2025-06-08 12:33:12.868 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:33:12.868 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:12.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:33:12.869 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:33:12.873 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:33:12.874 +03:00 [DBG] Disposing transaction.
2025-06-08 12:33:12.874 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.874 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:33:12.875 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 12:33:12.876 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 12:33:12.877 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:12.878 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 12:33:12.958 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 12:33:13.061 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 12:33:13.061 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 12:33:13.062 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 12:33:13.062 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 12:33:13.062 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 12:33:13.063 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 12:33:13.099 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:33:13.100 +03:00 [INF] Hosting environment: Development
2025-06-08 12:33:13.100 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 12:33:13.100 +03:00 [DBG] Hosting started
2025-06-08 12:33:41.584 +03:00 [INF] Starting web host
2025-06-08 12:33:41.824 +03:00 [DBG] Hosting starting
2025-06-08 12:33:41.909 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:33:42.064 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:33:42.120 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:33:42.121 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:33:42.121 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:33:42.145 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:33:42.152 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:33:42.166 +03:00 [DBG] Created DbConnection. (12ms).
2025-06-08 12:33:42.168 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.265 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.269 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:42.272 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 12:33:42.273 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 12:33:42.276 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:42.286 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:42.289 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.292 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 12:33:42.293 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 12:33:42.297 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 12:33:42.298 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.298 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.299 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.300 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:42.300 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:42.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:33:42.301 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:42.302 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:42.303 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.304 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:33:42.304 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.305 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.306 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 12:33:42.307 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:33:42.307 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:42.308 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:33:42.309 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:33:42.315 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:33:42.362 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:33:42.365 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:33:42.366 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:42.366 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:42.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:33:42.368 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:33:42.369 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:33:42.371 +03:00 [DBG] Committing transaction.
2025-06-08 12:33:42.372 +03:00 [DBG] Committed transaction.
2025-06-08 12:33:42.373 +03:00 [DBG] Disposing transaction.
2025-06-08 12:33:42.374 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:33:42.374 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:33:42.375 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:33:42.375 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:42.376 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:33:42.376 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:42.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:33:42.378 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:33:42.378 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:42.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:42.379 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:33:42.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:33:42.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 12:33:42.382 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:33:42.382 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:33:42.383 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:33:42.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:33:42.386 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.387 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 12:33:42.389 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 12:33:42.389 +03:00 [DBG] Committing transaction.
2025-06-08 12:33:42.390 +03:00 [DBG] Committed transaction.
2025-06-08 12:33:42.390 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:33:42.391 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:33:42.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:33:42.392 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:33:42.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:33:42.393 +03:00 [DBG] Disposing transaction.
2025-06-08 12:33:42.393 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.394 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:33:42.394 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 12:33:42.395 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 12:33:42.396 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:33:42.397 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 12:33:42.428 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 12:33:42.509 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 12:33:42.509 +03:00 [DBG] Connection id "0HND6DU7DVJ1R" accepted.
2025-06-08 12:33:42.509 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 12:33:42.510 +03:00 [DBG] Connection id "0HND6DU7DVJ1R" started.
2025-06-08 12:33:42.510 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 12:33:42.511 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 12:33:42.511 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 12:33:42.512 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 12:33:42.537 +03:00 [DBG] Connection id "0HND6DU7DVJ1R" received FIN.
2025-06-08 12:33:42.541 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 12:33:42.551 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:33:42.551 +03:00 [INF] Hosting environment: Development
2025-06-08 12:33:42.552 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 12:33:42.552 +03:00 [DBG] Connection id "0HND6DU7DVJ1R" stopped.
2025-06-08 12:33:42.552 +03:00 [DBG] Hosting started
2025-06-08 12:33:42.554 +03:00 [DBG] Connection id "0HND6DU7DVJ1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 12:33:42.694 +03:00 [DBG] Connection id "0HND6DU7DVJ1S" accepted.
2025-06-08 12:33:42.695 +03:00 [DBG] Connection id "0HND6DU7DVJ1S" started.
2025-06-08 12:33:42.730 +03:00 [DBG] Connection 0HND6DU7DVJ1S established using the following protocol: "Tls13"
2025-06-08 12:33:42.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 12:33:42.821 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 12:33:42.825 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:33:42.835 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 12:33:42.836 +03:00 [DBG] Request did not match any endpoints
2025-06-08 12:33:42.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 82.5876ms
2025-06-08 12:33:42.844 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 12:33:45.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/ - null null
2025-06-08 12:33:45.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/ - 301 0 null 3.78ms
2025-06-08 12:33:45.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 12:33:45.792 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 12:33:45.794 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 12:33:45.803 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 12:33:45.804 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 12:33:45.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.3063ms
2025-06-08 12:33:45.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 12:33:45.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 12:33:45.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 12:33:45.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2025-06-08 12:33:45.827 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:33:45.828 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:33:45.831 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 12:33:45.831 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-08 12:33:45.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 14.297ms
2025-06-08 12:33:45.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 19.0438ms
2025-06-08 12:33:45.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 499 230280 text/javascript 19.4947ms
2025-06-08 12:33:45.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6677ms
2025-06-08 12:33:45.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 12:33:45.893 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:33:45.894 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 12:33:45.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.7632ms
2025-06-08 12:33:45.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 12:33:45.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.4183ms
2025-06-08 12:33:49.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers - null null
2025-06-08 12:33:49.114 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:33:49.118 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2025-06-08 12:33:49.119 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2025-06-08 12:33:49.120 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:49.122 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:49.131 +03:00 [INF] Route matched with {action = "Get", controller = "Customers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 12:33:49.132 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 12:33:49.134 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 12:33:49.135 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 12:33:49.136 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 12:33:49.137 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 12:33:49.139 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:33:49.140 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:33:49.142 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 12:33:49.144 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 12:33:49.145 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 12:33:49.145 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 12:33:49.146 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-06-08 12:33:49.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-08 12:33:49.150 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.Get (CO.API) in 10.1579ms
2025-06-08 12:33:49.151 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:49.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers - 200 null text/plain; charset=utf-8 39.9181ms
2025-06-08 12:33:50.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers - null null
2025-06-08 12:33:50.213 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:33:50.214 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2025-06-08 12:33:50.214 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2025-06-08 12:33:50.215 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:50.216 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:50.217 +03:00 [INF] Route matched with {action = "Get", controller = "Customers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 12:33:50.218 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 12:33:50.219 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 12:33:50.219 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 12:33:50.220 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 12:33:50.221 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 12:33:50.222 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:33:50.222 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:33:50.223 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 12:33:50.224 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 12:33:50.225 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 12:33:50.225 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 12:33:50.225 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-06-08 12:33:50.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-08 12:33:50.227 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.Get (CO.API) in 5.2265ms
2025-06-08 12:33:50.228 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:50.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers - 200 null text/plain; charset=utf-8 17.2437ms
2025-06-08 12:33:51.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers - null null
2025-06-08 12:33:51.428 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:33:51.429 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2025-06-08 12:33:51.429 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2025-06-08 12:33:51.430 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:51.430 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:51.431 +03:00 [INF] Route matched with {action = "Get", controller = "Customers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 12:33:51.432 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 12:33:51.432 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 12:33:51.433 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 12:33:51.434 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 12:33:51.434 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 12:33:51.435 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:33:51.436 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:33:51.436 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 12:33:51.437 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 12:33:51.437 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 12:33:51.438 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 12:33:51.438 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-06-08 12:33:51.439 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-08 12:33:51.439 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.Get (CO.API) in 4.1966ms
2025-06-08 12:33:51.440 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:33:51.441 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers - 200 null text/plain; charset=utf-8 14.4568ms
2025-06-08 12:35:24.124 +03:00 [INF] Starting web host
2025-06-08 12:35:24.368 +03:00 [DBG] Hosting starting
2025-06-08 12:35:24.452 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:35:24.609 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:35:24.663 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:35:24.664 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:35:24.664 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:35:24.689 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:35:24.695 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:35:24.710 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 12:35:24.712 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.810 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.813 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:35:24.816 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 12:35:24.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 12:35:24.820 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:35:24.830 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:35:24.832 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.835 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 12:35:24.836 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 12:35:24.840 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 12:35:24.841 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.842 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.843 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.843 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:35:24.844 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:35:24.844 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:35:24.845 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:35:24.846 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:35:24.846 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.847 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:35:24.847 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.848 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.849 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 12:35:24.850 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:35:24.850 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:35:24.851 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:35:24.851 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:35:24.863 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:35:24.912 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:35:24.914 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:35:24.915 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:35:24.915 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:35:24.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:35:24.917 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:35:24.922 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:35:24.923 +03:00 [DBG] Committing transaction.
2025-06-08 12:35:24.925 +03:00 [DBG] Committed transaction.
2025-06-08 12:35:24.925 +03:00 [DBG] Disposing transaction.
2025-06-08 12:35:24.926 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:35:24.927 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:35:24.928 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:35:24.928 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:35:24.928 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:35:24.929 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:35:24.929 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:35:24.930 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:35:24.931 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:35:24.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:35:24.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:35:24.932 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:35:24.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 12:35:24.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:35:24.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:35:24.935 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:35:24.938 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:35:24.939 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.940 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 12:35:24.942 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 12:35:24.943 +03:00 [DBG] Committing transaction.
2025-06-08 12:35:24.943 +03:00 [DBG] Committed transaction.
2025-06-08 12:35:24.943 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:35:24.944 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:35:24.944 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:35:24.945 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:35:24.948 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:35:24.949 +03:00 [DBG] Disposing transaction.
2025-06-08 12:35:24.949 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.950 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:35:24.950 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 12:35:24.951 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 12:35:24.952 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:35:24.953 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 12:35:24.984 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 12:35:25.065 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 12:35:25.066 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 12:35:25.066 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 12:35:25.067 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 12:35:25.067 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 12:35:25.067 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 12:35:25.103 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:35:25.103 +03:00 [INF] Hosting environment: Development
2025-06-08 12:35:25.104 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 12:35:25.104 +03:00 [DBG] Hosting started
2025-06-08 12:35:25.110 +03:00 [DBG] Connection id "0HND6DV60F1P4" accepted.
2025-06-08 12:35:25.110 +03:00 [DBG] Connection id "0HND6DV60F1P3" accepted.
2025-06-08 12:35:25.111 +03:00 [DBG] Connection id "0HND6DV60F1P4" started.
2025-06-08 12:35:25.111 +03:00 [DBG] Connection id "0HND6DV60F1P3" started.
2025-06-08 12:35:25.139 +03:00 [DBG] Connection id "0HND6DV60F1P4" received FIN.
2025-06-08 12:35:25.139 +03:00 [DBG] Connection id "0HND6DV60F1P3" received FIN.
2025-06-08 12:35:25.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 12:35:25.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 12:35:25.155 +03:00 [DBG] Connection id "0HND6DV60F1P3" stopped.
2025-06-08 12:35:25.155 +03:00 [DBG] Connection id "0HND6DV60F1P4" stopped.
2025-06-08 12:35:25.156 +03:00 [DBG] Connection id "0HND6DV60F1P4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 12:35:25.156 +03:00 [DBG] Connection id "0HND6DV60F1P3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 12:35:25.264 +03:00 [DBG] Connection id "0HND6DV60F1P5" accepted.
2025-06-08 12:35:25.264 +03:00 [DBG] Connection id "0HND6DV60F1P5" started.
2025-06-08 12:35:25.276 +03:00 [DBG] Connection 0HND6DV60F1P5 established using the following protocol: "Tls13"
2025-06-08 12:35:25.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 12:35:25.340 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 12:35:25.343 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:35:25.354 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 12:35:25.354 +03:00 [DBG] Request did not match any endpoints
2025-06-08 12:35:25.359 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 61.4735ms
2025-06-08 12:35:25.361 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 12:35:28.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/ - null null
2025-06-08 12:35:28.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/ - 301 0 null 3.6624ms
2025-06-08 12:35:28.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 12:35:28.363 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 12:35:28.364 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 12:35:28.373 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 12:35:28.374 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 12:35:28.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.4277ms
2025-06-08 12:35:28.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 12:35:28.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 12:35:28.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2025-06-08 12:35:28.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 12:35:28.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 10.7806ms
2025-06-08 12:35:28.427 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:35:28.427 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:35:28.428 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-08 12:35:28.429 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 12:35:28.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 499 230280 text/javascript 41.9218ms
2025-06-08 12:35:28.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 42.4605ms
2025-06-08 12:35:28.441 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0113ms
2025-06-08 12:35:28.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 12:35:28.460 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:35:28.461 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 12:35:28.461 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.3036ms
2025-06-08 12:35:28.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 12:35:28.482 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.2383ms
2025-06-08 12:35:31.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers - null null
2025-06-08 12:35:31.231 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:35:31.235 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2025-06-08 12:35:31.236 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2025-06-08 12:35:31.237 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:35:31.238 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:35:31.248 +03:00 [INF] Route matched with {action = "Get", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 12:35:31.249 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 12:35:31.250 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 12:35:31.250 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 12:35:31.251 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 12:35:31.252 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 12:35:31.253 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:35:31.256 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.Get (CO.API) in 2.6418ms
2025-06-08 12:35:31.257 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:35:31.289 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: Unable to resolve service for type 'CO.API.Handlers.ICustomerHandler' while attempting to activate 'CO.API.Controllers.CustomersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method15(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 73
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 12:35:31.301 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6DV60F1P5:00000015"}
2025-06-08 12:35:31.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers - 500 null application/json 71.8007ms
2025-06-08 12:36:47.052 +03:00 [INF] Starting web host
2025-06-08 12:36:47.303 +03:00 [DBG] Hosting starting
2025-06-08 12:36:47.389 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 12:36:47.549 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 12:36:47.604 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:36:47.606 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:36:47.606 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 12:36:47.631 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:36:47.637 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:36:47.651 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 12:36:47.654 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.752 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.755 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:36:47.758 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 12:36:47.760 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 12:36:47.763 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:36:47.773 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:36:47.775 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.779 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 12:36:47.780 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 12:36:47.784 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 12:36:47.785 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.786 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.787 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.787 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:36:47.788 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:36:47.788 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:36:47.789 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:36:47.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:36:47.792 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.792 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:36:47.793 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.794 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.795 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 12:36:47.796 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:36:47.797 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:36:47.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:36:47.798 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:36:47.808 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 12:36:47.858 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:36:47.861 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:36:47.862 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:36:47.862 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:36:47.863 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:36:47.864 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:36:47.868 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 12:36:47.870 +03:00 [DBG] Committing transaction.
2025-06-08 12:36:47.871 +03:00 [DBG] Committed transaction.
2025-06-08 12:36:47.872 +03:00 [DBG] Disposing transaction.
2025-06-08 12:36:47.874 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 12:36:47.874 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 12:36:47.875 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 12:36:47.876 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 12:36:47.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 12:36:47.877 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:36:47.878 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 12:36:47.879 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:36:47.879 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:36:47.880 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 12:36:47.881 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:36:47.881 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 12:36:47.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 12:36:47.883 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:36:47.884 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:36:47.884 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:36:47.887 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 12:36:47.888 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.889 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 12:36:47.892 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 12:36:47.892 +03:00 [DBG] Committing transaction.
2025-06-08 12:36:47.893 +03:00 [DBG] Committed transaction.
2025-06-08 12:36:47.893 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 12:36:47.894 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:36:47.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 12:36:47.895 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:36:47.899 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 12:36:47.900 +03:00 [DBG] Disposing transaction.
2025-06-08 12:36:47.900 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.901 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:36:47.901 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 12:36:47.902 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 12:36:47.903 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:47.904 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 12:36:47.935 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 12:36:48.018 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 12:36:48.019 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 12:36:48.020 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 12:36:48.020 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 12:36:48.021 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 12:36:48.021 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 12:36:48.041 +03:00 [DBG] Connection id "0HND6DVUNBDGV" accepted.
2025-06-08 12:36:48.041 +03:00 [DBG] Connection id "0HND6DVUNBDGV" started.
2025-06-08 12:36:48.052 +03:00 [DBG] Connection id "0HND6DVUNBDH0" accepted.
2025-06-08 12:36:48.053 +03:00 [DBG] Connection id "0HND6DVUNBDH0" started.
2025-06-08 12:36:48.058 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:36:48.059 +03:00 [INF] Hosting environment: Development
2025-06-08 12:36:48.059 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 12:36:48.060 +03:00 [DBG] Hosting started
2025-06-08 12:36:48.068 +03:00 [DBG] Connection id "0HND6DVUNBDGV" received FIN.
2025-06-08 12:36:48.068 +03:00 [DBG] Connection id "0HND6DVUNBDH0" received FIN.
2025-06-08 12:36:48.075 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 12:36:48.075 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 12:36:48.085 +03:00 [DBG] Connection id "0HND6DVUNBDH0" stopped.
2025-06-08 12:36:48.085 +03:00 [DBG] Connection id "0HND6DVUNBDGV" stopped.
2025-06-08 12:36:48.086 +03:00 [DBG] Connection id "0HND6DVUNBDH0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 12:36:48.086 +03:00 [DBG] Connection id "0HND6DVUNBDGV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 12:36:48.217 +03:00 [DBG] Connection id "0HND6DVUNBDH1" accepted.
2025-06-08 12:36:48.218 +03:00 [DBG] Connection id "0HND6DVUNBDH1" started.
2025-06-08 12:36:48.230 +03:00 [DBG] Connection 0HND6DVUNBDH1 established using the following protocol: "Tls13"
2025-06-08 12:36:48.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 12:36:48.294 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 12:36:48.297 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:36:48.307 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 12:36:48.308 +03:00 [DBG] Request did not match any endpoints
2025-06-08 12:36:48.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 60.8967ms
2025-06-08 12:36:48.314 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 12:36:51.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/ - null null
2025-06-08 12:36:51.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/ - 301 0 null 4.4183ms
2025-06-08 12:36:51.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 12:36:51.624 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 12:36:51.625 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 12:36:51.634 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 12:36:51.635 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 12:36:51.635 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.6517ms
2025-06-08 12:36:51.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 12:36:51.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2025-06-08 12:36:51.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 12:36:51.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 12:36:51.648 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:36:51.648 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:36:51.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 7.9895ms
2025-06-08 12:36:51.654 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-08 12:36:51.655 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 12:36:51.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 499 230280 text/javascript 17.3277ms
2025-06-08 12:36:51.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 18.4251ms
2025-06-08 12:36:51.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.446ms
2025-06-08 12:36:51.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 12:36:51.718 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 12:36:51.719 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 12:36:51.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.7091ms
2025-06-08 12:36:51.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 12:36:51.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.0753ms
2025-06-08 12:36:55.605 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers - null null
2025-06-08 12:36:55.606 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 12:36:55.609 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2025-06-08 12:36:55.610 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2025-06-08 12:36:55.611 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:36:55.613 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:36:55.622 +03:00 [INF] Route matched with {action = "Get", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 12:36:55.624 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 12:36:55.624 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 12:36:55.625 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 12:36:55.626 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 12:36:55.626 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 12:36:55.628 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:36:55.629 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 12:36:55.638 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 12:36:55.658 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomersResponse{ 
        CustomerID = c.CustomerID, 
        CompanyName = c.CompanyName 
    }
    )'
2025-06-08 12:36:55.734 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomersResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        value1 = dataReader.GetString(0);
        value2 = dataReader.GetString(1);
        return new CustomersResponse{ 
            CustomerID = value1, 
            CompanyName = value2 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 12:36:55.746 +03:00 [DBG] Creating DbConnection.
2025-06-08 12:36:55.746 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 12:36:55.747 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:55.749 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:55.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 12:36:55.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 12:36:55.751 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 12:36:55.752 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 12:36:55.761 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 12:36:55.768 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 12:36:55.768 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 5ms reading results.
2025-06-08 12:36:55.770 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:55.770 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 12:36:55.772 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 12:36:55.774 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 12:36:55.774 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 12:36:55.775 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 12:36:55.775 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 12:36:55.776 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 12:36:55.783 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.Get (CO.API) in 154.9911ms
2025-06-08 12:36:55.784 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.Get (CO.API)'
2025-06-08 12:36:55.785 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 12:36:55.787 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 12:36:55.788 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 12:36:55.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers - 200 null application/json; charset=utf-8 183.8143ms
2025-06-08 16:44:37.653 +03:00 [INF] Starting web host
2025-06-08 16:44:37.946 +03:00 [DBG] Hosting starting
2025-06-08 16:44:38.042 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 16:44:38.203 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 16:44:38.259 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 16:44:38.260 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 16:44:38.261 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 16:44:38.285 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:44:38.292 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:44:38.306 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 16:44:38.309 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.423 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.426 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:44:38.429 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 16:44:38.431 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 16:44:38.434 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:44:38.444 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:44:38.446 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.450 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 16:44:38.451 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 16:44:38.455 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 16:44:38.456 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.457 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.458 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.458 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:44:38.459 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:44:38.459 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:44:38.459 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:44:38.461 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:44:38.462 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.462 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:44:38.463 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.463 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.464 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 16:44:38.465 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 16:44:38.466 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:44:38.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 16:44:38.468 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 16:44:38.486 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 16:44:38.537 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 16:44:38.539 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 16:44:38.540 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:44:38.541 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:44:38.541 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 16:44:38.542 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 16:44:38.548 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 16:44:38.550 +03:00 [DBG] Committing transaction.
2025-06-08 16:44:38.551 +03:00 [DBG] Committed transaction.
2025-06-08 16:44:38.552 +03:00 [DBG] Disposing transaction.
2025-06-08 16:44:38.553 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 16:44:38.554 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 16:44:38.554 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:44:38.555 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:44:38.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 16:44:38.557 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:44:38.558 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:44:38.559 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 16:44:38.560 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:44:38.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 16:44:38.561 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 16:44:38.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 16:44:38.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:44:38.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:44:38.564 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:44:38.565 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 16:44:38.568 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 16:44:38.570 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.571 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:44:38.573 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 16:44:38.574 +03:00 [DBG] Committing transaction.
2025-06-08 16:44:38.574 +03:00 [DBG] Committed transaction.
2025-06-08 16:44:38.575 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 16:44:38.575 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:44:38.576 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 16:44:38.577 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 16:44:38.581 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 16:44:38.582 +03:00 [DBG] Disposing transaction.
2025-06-08 16:44:38.582 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.583 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:44:38.583 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 16:44:38.584 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:44:38.585 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:38.586 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:44:38.624 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 16:44:38.713 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 16:44:38.714 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 16:44:38.714 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 16:44:38.715 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 16:44:38.715 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 16:44:38.715 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 16:44:38.752 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 16:44:38.752 +03:00 [INF] Hosting environment: Development
2025-06-08 16:44:38.753 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 16:44:38.753 +03:00 [DBG] Hosting started
2025-06-08 16:44:38.952 +03:00 [DBG] Connection id "0HND6IAEJDA8M" accepted.
2025-06-08 16:44:38.952 +03:00 [DBG] Connection id "0HND6IAEJDA8N" accepted.
2025-06-08 16:44:38.953 +03:00 [DBG] Connection id "0HND6IAEJDA8M" started.
2025-06-08 16:44:38.953 +03:00 [DBG] Connection id "0HND6IAEJDA8N" started.
2025-06-08 16:44:38.979 +03:00 [DBG] Connection id "0HND6IAEJDA8M" received FIN.
2025-06-08 16:44:38.979 +03:00 [DBG] Connection id "0HND6IAEJDA8N" received FIN.
2025-06-08 16:44:38.987 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 16:44:38.987 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 16:44:38.998 +03:00 [DBG] Connection id "0HND6IAEJDA8N" stopped.
2025-06-08 16:44:38.998 +03:00 [DBG] Connection id "0HND6IAEJDA8M" stopped.
2025-06-08 16:44:38.999 +03:00 [DBG] Connection id "0HND6IAEJDA8M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 16:44:38.999 +03:00 [DBG] Connection id "0HND6IAEJDA8N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 16:44:39.104 +03:00 [DBG] Connection id "0HND6IAEJDA8O" accepted.
2025-06-08 16:44:39.105 +03:00 [DBG] Connection id "0HND6IAEJDA8O" started.
2025-06-08 16:44:39.119 +03:00 [DBG] Connection 0HND6IAEJDA8O established using the following protocol: "Tls13"
2025-06-08 16:44:39.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 16:44:39.186 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 16:44:39.189 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:44:39.202 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 16:44:39.203 +03:00 [DBG] Request did not match any endpoints
2025-06-08 16:44:39.208 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 66.0249ms
2025-06-08 16:44:39.210 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 16:44:42.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 16:44:42.082 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 16:44:42.083 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 16:44:42.090 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 16:44:42.090 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 16:44:42.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 36.7983ms
2025-06-08 16:44:42.102 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 16:44:42.102 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 16:44:42.102 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 16:44:42.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 8.9511ms
2025-06-08 16:44:42.113 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 16:44:42.117 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 16:44:42.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 16.2885ms
2025-06-08 16:44:42.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1877ms
2025-06-08 16:44:42.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 16:44:42.144 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 16:44:42.145 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 16:44:42.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.959ms
2025-06-08 16:44:42.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 16:44:42.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.6921ms
2025-06-08 16:44:45.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers - null null
2025-06-08 16:44:45.332 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:44:45.336 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers'
2025-06-08 16:44:45.337 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)' with route pattern 'Customers' is valid for the request path '/Customers'
2025-06-08 16:44:45.338 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:44:45.339 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:44:45.348 +03:00 [INF] Route matched with {action = "GetClients", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:44:45.349 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:44:45.350 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:44:45.351 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:44:45.352 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:44:45.352 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:44:45.353 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:44:45.354 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:44:45.360 +03:00 [INF] START: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:44:45.365 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:44:45.383 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomersResponse{ 
        CustomerID = c.CustomerID, 
        CompanyName = c.CompanyName 
    }
    )'
2025-06-08 16:44:45.456 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomersResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        value1 = dataReader.GetString(0);
        value2 = dataReader.GetString(1);
        return new CustomersResponse{ 
            CustomerID = value1, 
            CompanyName = value2 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 16:44:45.467 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:44:45.468 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:44:45.469 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:45.470 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:45.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:44:45.471 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:44:45.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:44:45.472 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:44:45.481 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:44:45.488 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:44:45.489 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 6ms reading results.
2025-06-08 16:44:45.490 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:45.491 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:44:45.491 +03:00 [INF] END: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:44:45.493 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 16:44:45.495 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 16:44:45.495 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 16:44:45.495 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 16:44:45.496 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 16:44:45.497 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 16:44:45.503 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClients (CO.API) in 149.3081ms
2025-06-08 16:44:45.504 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:44:45.505 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:44:45.507 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:45.507 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:44:45.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers - 200 null application/json; charset=utf-8 177.381ms
2025-06-08 16:44:57.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/BLAUS - null null
2025-06-08 16:44:57.995 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:44:57.996 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/BLAUS'
2025-06-08 16:44:57.996 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/BLAUS'
2025-06-08 16:44:57.997 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:44:57.998 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:44:58.001 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:44:58.002 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:44:58.003 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:44:58.004 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:44:58.005 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:44:58.006 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:44:58.007 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:44:58.008 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:44:58.009 +03:00 [INF] START: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:44:58.039 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:44:58.042 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:44:58.043 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:44:58.043 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:58.044 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:58.045 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:44:58.046 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:44:58.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 16:44:58.047 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:44:58.049 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:44:58.050 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:44:58.051 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:44:58.052 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:58.052 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:44:58.053 +03:00 [INF] END: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:44:58.053 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 16:44:58.054 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 16:44:58.055 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 16:44:58.055 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 16:44:58.055 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 16:44:58.056 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 16:44:58.058 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 51.5607ms
2025-06-08 16:44:58.059 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:44:58.059 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:44:58.060 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:44:58.061 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:44:58.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/BLAUS - 200 null application/json; charset=utf-8 68.4908ms
2025-06-08 16:52:13.331 +03:00 [INF] Starting web host
2025-06-08 16:52:13.590 +03:00 [DBG] Hosting starting
2025-06-08 16:52:13.689 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 16:52:13.856 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 16:52:13.912 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 16:52:13.913 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 16:52:13.913 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 16:52:13.938 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:52:13.945 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:52:13.960 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 16:52:13.962 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.076 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.079 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:52:14.082 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-08 16:52:14.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 16:52:14.086 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:52:14.096 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:52:14.098 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.101 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 16:52:14.102 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 16:52:14.105 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 16:52:14.106 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.107 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.108 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.108 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:52:14.109 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:52:14.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:52:14.110 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:52:14.111 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:52:14.112 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.112 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:52:14.113 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.113 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.114 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 16:52:14.115 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 16:52:14.115 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:52:14.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:52:14.117 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 16:52:14.133 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 16:52:14.181 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 16:52:14.184 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 16:52:14.184 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:52:14.185 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:52:14.186 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 16:52:14.186 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 16:52:14.193 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 16:52:14.194 +03:00 [DBG] Committing transaction.
2025-06-08 16:52:14.195 +03:00 [DBG] Committed transaction.
2025-06-08 16:52:14.196 +03:00 [DBG] Disposing transaction.
2025-06-08 16:52:14.197 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 16:52:14.198 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 16:52:14.199 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 16:52:14.199 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 16:52:14.200 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 16:52:14.200 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:52:14.201 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 16:52:14.202 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 16:52:14.203 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:52:14.203 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 16:52:14.204 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 16:52:14.205 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 16:52:14.206 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:52:14.207 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:14.207 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:14.208 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 16:52:14.211 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 16:52:14.213 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.214 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:52:14.217 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 16:52:14.217 +03:00 [DBG] Committing transaction.
2025-06-08 16:52:14.218 +03:00 [DBG] Committed transaction.
2025-06-08 16:52:14.218 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 16:52:14.218 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 16:52:14.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 16:52:14.220 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 16:52:14.224 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 16:52:14.225 +03:00 [DBG] Disposing transaction.
2025-06-08 16:52:14.225 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.226 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:52:14.226 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 16:52:14.227 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:52:14.228 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:14.230 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:52:14.301 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 16:52:14.397 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 16:52:14.397 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 16:52:14.398 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 16:52:14.398 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 16:52:14.399 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 16:52:14.399 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 16:52:14.436 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 16:52:14.436 +03:00 [INF] Hosting environment: Development
2025-06-08 16:52:14.437 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 16:52:14.437 +03:00 [DBG] Hosting started
2025-06-08 16:52:14.821 +03:00 [DBG] Connection id "0HND6IEMETEMB" accepted.
2025-06-08 16:52:14.821 +03:00 [DBG] Connection id "0HND6IEMETEMB" started.
2025-06-08 16:52:14.830 +03:00 [DBG] Connection id "0HND6IEMETEMC" accepted.
2025-06-08 16:52:14.831 +03:00 [DBG] Connection id "0HND6IEMETEMC" started.
2025-06-08 16:52:14.847 +03:00 [DBG] Connection id "0HND6IEMETEMC" received FIN.
2025-06-08 16:52:14.847 +03:00 [DBG] Connection id "0HND6IEMETEMB" received FIN.
2025-06-08 16:52:14.855 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 16:52:14.855 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 16:52:14.866 +03:00 [DBG] Connection id "0HND6IEMETEMC" stopped.
2025-06-08 16:52:14.866 +03:00 [DBG] Connection id "0HND6IEMETEMB" stopped.
2025-06-08 16:52:14.867 +03:00 [DBG] Connection id "0HND6IEMETEMB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 16:52:14.867 +03:00 [DBG] Connection id "0HND6IEMETEMC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 16:52:14.974 +03:00 [DBG] Connection id "0HND6IEMETEMD" accepted.
2025-06-08 16:52:14.975 +03:00 [DBG] Connection id "0HND6IEMETEMD" started.
2025-06-08 16:52:14.988 +03:00 [DBG] Connection 0HND6IEMETEMD established using the following protocol: "Tls13"
2025-06-08 16:52:15.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 16:52:15.062 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 16:52:15.065 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:52:15.077 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 16:52:15.078 +03:00 [DBG] Request did not match any endpoints
2025-06-08 16:52:15.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 71.3934ms
2025-06-08 16:52:15.085 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 16:52:18.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 16:52:18.617 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 16:52:18.618 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 16:52:18.625 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 16:52:18.625 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 16:52:18.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.0842ms
2025-06-08 16:52:18.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 16:52:18.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 16:52:18.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 16:52:18.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 11.003ms
2025-06-08 16:52:18.655 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 16:52:18.656 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 16:52:18.657 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 18.4269ms
2025-06-08 16:52:18.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.1733ms
2025-06-08 16:52:18.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 16:52:18.692 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 16:52:18.693 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 16:52:18.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.2259ms
2025-06-08 16:52:18.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 16:52:18.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.2844ms
2025-06-08 16:52:22.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/customers - null null
2025-06-08 16:52:22.884 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:52:22.888 +03:00 [DBG] 1 candidate(s) found for the request path '/customers'
2025-06-08 16:52:22.888 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)' with route pattern 'customers' is valid for the request path '/customers'
2025-06-08 16:52:22.889 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:52:22.891 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:52:22.900 +03:00 [INF] Route matched with {action = "GetClients", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:52:22.902 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:52:22.902 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:52:22.903 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:52:22.904 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:52:22.904 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:52:22.905 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:52:22.907 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:52:22.908 +03:00 [INF] START: CustomersController. GetClients()
2025-06-08 16:52:22.913 +03:00 [INF] START: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:52:22.919 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:52:22.937 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomersResponse{ 
        CustomerID = c.CustomerID, 
        CompanyName = c.CompanyName 
    }
    )'
2025-06-08 16:52:23.013 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomersResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        value1 = dataReader.GetString(0);
        value2 = dataReader.GetString(1);
        return new CustomersResponse{ 
            CustomerID = value1, 
            CompanyName = value2 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 16:52:23.025 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:52:23.026 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:52:23.027 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:23.028 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:23.029 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:52:23.029 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:23.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:23.030 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:52:23.042 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:52:23.049 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:52:23.050 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 6ms reading results.
2025-06-08 16:52:23.051 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:23.052 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:52:23.052 +03:00 [INF] END: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:52:23.053 +03:00 [INF] END: CustomersController. GetClients()
2025-06-08 16:52:23.055 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 16:52:23.056 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 16:52:23.056 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 16:52:23.057 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 16:52:23.057 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 16:52:23.058 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 16:52:23.065 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClients (CO.API) in 158.9931ms
2025-06-08 16:52:23.066 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:52:23.067 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:52:23.069 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:23.069 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:52:23.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/customers - 200 null application/json; charset=utf-8 187.686ms
2025-06-08 16:52:29.577 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI - null null
2025-06-08 16:52:29.579 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:52:29.580 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI'
2025-06-08 16:52:29.580 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/ALFKI'
2025-06-08 16:52:29.581 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:52:29.581 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:52:29.587 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:52:29.588 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:52:29.589 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:52:29.589 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:52:29.590 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:52:29.591 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:52:29.591 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:52:29.593 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:52:29.602 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 16:52:29.604 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 16:52:29.605 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:52:29.605 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:52:29.606 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 16:52:29.608 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 16:52:29.610 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 16:52:29.610 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:52:29.640 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:52:29.648 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<string>(e, "CustomerID") == __p_0)'
2025-06-08 16:52:29.679 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.City (string) Required, 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string) Required, 4], [Property: Customer.ContactTitle (string) Required, 5], [Property: Customer.Country (string) Required, 6], [Property: Customer.Fax (string) Required, 7], [Property: Customer.Phone (string) Required, 8], [Property: Customer.PostalCode (string) Required, 9], [Property: Customer.Region (string) Required, 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.City (string) Required, 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string) Required, 4], [Property: Customer.ContactTitle (string) Required, 5], [Property: Customer.Country (string) Required, 6], [Property: Customer.Fax (string) Required, 7], [Property: Customer.Phone (string) Required, 8], [Property: Customer.PostalCode (string) Required, 9], [Property: Customer.Region (string) Required, 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                    instance.<Address>k__BackingField = dataReader.GetString(1);
                                    instance.<City>k__BackingField = dataReader.GetString(2);
                                    instance.<CompanyName>k__BackingField = dataReader.GetString(3);
                                    instance.<ContactName>k__BackingField = dataReader.GetString(4);
                                    instance.<ContactTitle>k__BackingField = dataReader.GetString(5);
                                    instance.<Country>k__BackingField = dataReader.GetString(6);
                                    instance.<Fax>k__BackingField = dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.GetString(8);
                                    instance.<PostalCode>k__BackingField = dataReader.GetString(9);
                                    instance.<Region>k__BackingField = dataReader.GetString(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 16:52:29.685 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:52:29.685 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:52:29.685 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:29.686 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:29.686 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:52:29.687 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:29.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 16:52:29.690 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:52:29.709 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:52:29.718 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 16:52:29.720 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:52:29.720 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 10ms reading results.
2025-06-08 16:52:29.721 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:29.721 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:52:29.751 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:52:29.763 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:52:29.776 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 16:52:29.798 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 16:52:29.799 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 208.0323ms
2025-06-08 16:52:29.800 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:52:29.856 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 16:52:29.861 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6IEMETEMD:00000013"}
2025-06-08 16:52:29.861 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:52:29.862 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:29.863 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:52:29.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI - 500 null application/json 286.2466ms
2025-06-08 16:52:39.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 16:52:39.356 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:52:39.357 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 16:52:39.357 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 16:52:39.358 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 16:52:39.358 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 16:52:39.361 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:52:39.362 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:52:39.362 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:52:39.363 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:52:39.364 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:52:39.364 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:52:39.365 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:52:39.366 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:52:39.367 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 16:52:39.368 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 16:52:39.368 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:52:39.369 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:52:39.369 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 16:52:39.370 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 16:52:39.371 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 16:52:39.371 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:52:39.372 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:52:39.375 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:52:39.375 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:52:39.375 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:39.376 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:39.376 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:52:39.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:39.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:52:39.378 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:52:39.379 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:52:39.381 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 16:52:39.382 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:52:39.383 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:52:39.383 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:39.384 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:52:39.396 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:52:39.407 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:52:39.419 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
2025-06-08 16:52:39.432 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 16:52:39.433 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 67.9248ms
2025-06-08 16:52:39.434 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 16:52:39.474 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 16:52:39.477 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6IEMETEMD:00000015"}
2025-06-08 16:52:39.478 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:52:39.478 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:52:39.479 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:52:39.480 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - 500 null application/json 124.9952ms
2025-06-08 16:54:10.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 16:54:10.733 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:54:10.733 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 16:54:10.734 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 16:54:10.735 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 16:54:10.735 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 16:54:10.736 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:54:10.736 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:54:10.737 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:54:10.738 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:54:10.738 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:54:10.739 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:54:10.740 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:54:10.740 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:54:10.741 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 16:54:10.741 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 16:54:10.742 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:54:10.743 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:54:10.743 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 16:54:10.744 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 16:54:10.745 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 16:54:10.745 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:10.746 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:54:10.747 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:54:10.748 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:54:10.748 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:10.749 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:10.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:54:10.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:10.750 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:10.751 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:54:10.759 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:54:10.760 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 16:54:10.761 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:54:10.762 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 2ms reading results.
2025-06-08 16:54:10.762 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:10.763 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:54:10.775 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:10.785 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:10.796 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
2025-06-08 16:54:10.808 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 16:54:10.809 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 69.233ms
2025-06-08 16:54:10.809 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 16:54:10.848 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 16:54:10.850 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6IEMETEMD:00000017"}
2025-06-08 16:54:10.851 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:54:10.854 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:10.854 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:54:10.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - 500 null application/json 125.6245ms
2025-06-08 16:54:12.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI - null null
2025-06-08 16:54:12.939 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:54:12.939 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI'
2025-06-08 16:54:12.940 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/ALFKI'
2025-06-08 16:54:12.940 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:54:12.941 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:54:12.941 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:54:12.942 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:54:12.943 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:54:12.943 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:54:12.944 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:54:12.944 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:54:12.945 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:54:12.946 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:54:12.946 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 16:54:12.947 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 16:54:12.947 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:54:12.948 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:54:12.948 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 16:54:12.949 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 16:54:12.949 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 16:54:12.950 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:12.950 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:54:12.951 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:54:12.952 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:54:12.952 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:12.953 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:12.953 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:54:12.954 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:12.954 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:12.955 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:54:12.957 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:54:12.958 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 16:54:12.959 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:54:12.959 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:54:12.960 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:12.960 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:54:12.973 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:12.984 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:12.996 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 16:54:13.007 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 16:54:13.008 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 63.1661ms
2025-06-08 16:54:13.009 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:54:13.048 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 16:54:13.051 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6IEMETEMD:00000019"}
2025-06-08 16:54:13.051 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:54:13.052 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:13.052 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:54:13.053 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI - 500 null application/json 115.6125ms
2025-06-08 16:54:18.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI - null null
2025-06-08 16:54:18.886 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:54:18.886 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI'
2025-06-08 16:54:18.887 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/ALFKI'
2025-06-08 16:54:18.888 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:54:18.888 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:54:18.889 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:54:18.890 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:54:18.890 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:54:18.891 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:54:18.891 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:54:18.892 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:54:18.892 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:54:18.893 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:54:18.894 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 16:54:18.894 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 16:54:18.895 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:54:18.896 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 16:54:18.896 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 16:54:18.897 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 16:54:18.897 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 16:54:18.897 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:54:21.306 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:54:21.316 +03:00 [DBG] DetectChanges starting for 'ApiDbContext'.
2025-06-08 16:54:21.318 +03:00 [DBG] DetectChanges completed for 'ApiDbContext'.
2025-06-08 16:54:22.292 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()'
2025-06-08 16:54:22.296 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Customer>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.City (string) Required, 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string) Required, 4], [Property: Customer.ContactTitle (string) Required, 5], [Property: Customer.Country (string) Required, 6], [Property: Customer.Fax (string) Required, 7], [Property: Customer.Phone (string) Required, 8], [Property: Customer.PostalCode (string) Required, 9], [Property: Customer.Region (string) Required, 10] }
        SELECT c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.City (string) Required, 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string) Required, 4], [Property: Customer.ContactTitle (string) Required, 5], [Property: Customer.Country (string) Required, 6], [Property: Customer.Fax (string) Required, 7], [Property: Customer.Phone (string) Required, 8], [Property: Customer.PostalCode (string) Required, 9], [Property: Customer.Region (string) Required, 10] }
        SELECT c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
        FROM Customers AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Customer entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Customer instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Customer);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Customer)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                        {
                            return 
                            {
                                Customer instance;
                                instance = new Customer();
                                instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                instance.<Address>k__BackingField = dataReader.GetString(1);
                                instance.<City>k__BackingField = dataReader.GetString(2);
                                instance.<CompanyName>k__BackingField = dataReader.GetString(3);
                                instance.<ContactName>k__BackingField = dataReader.GetString(4);
                                instance.<ContactTitle>k__BackingField = dataReader.GetString(5);
                                instance.<Country>k__BackingField = dataReader.GetString(6);
                                instance.<Fax>k__BackingField = dataReader.GetString(7);
                                instance.<Phone>k__BackingField = dataReader.GetString(8);
                                instance.<PostalCode>k__BackingField = dataReader.GetString(9);
                                instance.<Region>k__BackingField = dataReader.GetString(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Customer)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 16:54:22.299 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:54:22.299 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:54:22.300 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:22.300 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:22.301 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:54:22.301 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:22.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:22.302 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:54:22.304 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:54:22.305 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-06-08 16:54:22.306 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:54:22.307 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 2ms reading results.
2025-06-08 16:54:22.308 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:22.308 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:54:31.706 +03:00 [DBG] DetectChanges starting for 'ApiDbContext'.
2025-06-08 16:54:31.707 +03:00 [DBG] DetectChanges completed for 'ApiDbContext'.
2025-06-08 16:54:32.938 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:32.938 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:32.939 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:54:32.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:32.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:54:32.940 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:54:32.941 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:54:32.942 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-06-08 16:54:32.943 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:54:32.944 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 2ms reading results.
2025-06-08 16:54:32.944 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:54:32.945 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:55:25.680 +03:00 [DBG] DetectChanges starting for 'ApiDbContext'.
2025-06-08 16:55:25.680 +03:00 [DBG] DetectChanges completed for 'ApiDbContext'.
2025-06-08 16:55:26.228 +03:00 [DBG] DetectChanges starting for 'ApiDbContext'.
2025-06-08 16:55:26.233 +03:00 [DBG] DetectChanges completed for 'ApiDbContext'.
2025-06-08 16:55:27.293 +03:00 [DBG] DetectChanges starting for 'ApiDbContext'.
2025-06-08 16:55:27.297 +03:00 [DBG] DetectChanges completed for 'ApiDbContext'.
2025-06-08 16:55:28.246 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:28.251 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:28.252 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:55:28.252 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:55:28.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:55:28.253 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:55:28.256 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:55:28.257 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-06-08 16:55:28.258 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:55:28.259 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:55:28.260 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:28.260 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:55:33.371 +03:00 [DBG] Connection id "0HND6IEMETEMD" received FIN.
2025-06-08 16:55:33.371 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:33.378 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:33.379 +03:00 [DBG] Connection id "0HND6IEMETEMD" is closed. The last processed stream ID was 27.
2025-06-08 16:55:33.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:55:33.382 +03:00 [DBG] Connection id "0HND6IEMETEMD" sending RST because: "The client closed the connection."
2025-06-08 16:55:33.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:55:33.384 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 16:55:33.384 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:55:33.386 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 16:55:33.387 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 16:55:33.388 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:55:33.389 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:55:33.389 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:33.390 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:55:33.403 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:55:33.413 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 16:55:33.425 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 16:55:33.438 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 16:55:33.439 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 74546.6807ms
2025-06-08 16:55:33.440 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 16:55:33.479 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 16:55:33.482 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6IEMETEMD:0000001B"}
2025-06-08 16:55:33.482 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:55:33.483 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:33.483 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:55:33.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI - 500 null application/json 74599.4236ms
2025-06-08 16:55:33.486 +03:00 [DBG] The connection queue processing loop for 0HND6IEMETEMD completed.
2025-06-08 16:55:33.486 +03:00 [DBG] Connection id "0HND6IEMETEMD" stopped.
2025-06-08 16:55:42.707 +03:00 [DBG] Connection id "0HND6IEMETEME" accepted.
2025-06-08 16:55:42.708 +03:00 [DBG] Connection id "0HND6IEMETEME" started.
2025-06-08 16:55:42.710 +03:00 [DBG] Connection 0HND6IEMETEME established using the following protocol: "Tls13"
2025-06-08 16:55:42.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/customers - null null
2025-06-08 16:55:42.712 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 16:55:42.713 +03:00 [DBG] 1 candidate(s) found for the request path '/customers'
2025-06-08 16:55:42.713 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)' with route pattern 'customers' is valid for the request path '/customers'
2025-06-08 16:55:42.714 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:55:42.714 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:55:42.715 +03:00 [INF] Route matched with {action = "GetClients", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 16:55:42.716 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 16:55:42.716 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 16:55:42.717 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 16:55:42.717 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 16:55:42.718 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 16:55:42.718 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:55:42.719 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 16:55:42.720 +03:00 [INF] START: CustomersController. GetClients()
2025-06-08 16:55:42.720 +03:00 [INF] START: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:55:44.979 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 16:55:44.991 +03:00 [DBG] DetectChanges starting for 'ApiDbContext'.
2025-06-08 16:55:44.992 +03:00 [DBG] DetectChanges completed for 'ApiDbContext'.
2025-06-08 16:55:46.144 +03:00 [DBG] Creating DbConnection.
2025-06-08 16:55:46.145 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 16:55:46.146 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:46.146 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:46.147 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:55:46.147 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:55:46.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:55:46.148 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:55:46.149 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
2025-06-08 16:55:46.150 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method65(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-06-08 16:55:46.151 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:55:46.152 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 16:55:46.152 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:46.153 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:55:52.851 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:52.852 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:52.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 16:55:52.853 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 16:55:52.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 16:55:52.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:55:52.856 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 16:55:52.857 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 16:55:52.857 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 0ms reading results.
2025-06-08 16:55:52.858 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:52.858 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 16:55:52.859 +03:00 [INF] END: CustomerHandler. GetAllCustomersAsync()
2025-06-08 16:55:52.859 +03:00 [INF] END: CustomersController. GetClients()
2025-06-08 16:55:52.860 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 16:55:52.861 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 16:55:52.861 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 16:55:52.861 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 16:55:52.862 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 16:55:52.862 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 16:55:52.865 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClients (CO.API) in 10146.4834ms
2025-06-08 16:55:52.865 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 16:55:52.866 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 16:55:52.866 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 16:55:52.867 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 16:55:52.868 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/customers - 200 null application/json; charset=utf-8 10156.6916ms
2025-06-08 17:04:24.723 +03:00 [INF] Starting web host
2025-06-08 17:04:24.964 +03:00 [DBG] Hosting starting
2025-06-08 17:04:25.050 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 17:04:25.208 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 17:04:25.263 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:04:25.264 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:04:25.265 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:04:25.293 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:04:25.299 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:04:25.313 +03:00 [DBG] Created DbConnection. (12ms).
2025-06-08 17:04:25.315 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.415 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.419 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:04:25.422 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 17:04:25.423 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 17:04:25.426 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:04:25.436 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:04:25.438 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.441 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 17:04:25.442 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 17:04:25.446 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 17:04:25.446 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.447 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.448 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.448 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:04:25.448 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:04:25.449 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:04:25.449 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:04:25.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:04:25.451 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.452 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:04:25.452 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.453 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.454 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 17:04:25.455 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:04:25.455 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:04:25.456 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:04:25.456 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:04:25.472 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:04:25.519 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:04:25.522 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:04:25.523 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:04:25.523 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:04:25.524 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:04:25.525 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:04:25.528 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:04:25.529 +03:00 [DBG] Committing transaction.
2025-06-08 17:04:25.531 +03:00 [DBG] Committed transaction.
2025-06-08 17:04:25.532 +03:00 [DBG] Disposing transaction.
2025-06-08 17:04:25.533 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:04:25.533 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:04:25.534 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:04:25.534 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:04:25.535 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:04:25.535 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:04:25.536 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:04:25.537 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:04:25.537 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:04:25.537 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:04:25.538 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:04:25.539 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:04:25.540 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:04:25.540 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:25.541 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:25.541 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:04:25.545 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:04:25.546 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.547 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:04:25.551 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 17:04:25.551 +03:00 [DBG] Committing transaction.
2025-06-08 17:04:25.551 +03:00 [DBG] Committed transaction.
2025-06-08 17:04:25.552 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:04:25.552 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:04:25.553 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:04:25.553 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:04:25.556 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:04:25.557 +03:00 [DBG] Disposing transaction.
2025-06-08 17:04:25.557 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.558 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:04:25.559 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 17:04:25.559 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:04:25.560 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:25.561 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:04:25.591 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 17:04:25.676 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 17:04:25.676 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 17:04:25.677 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 17:04:25.677 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 17:04:25.677 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 17:04:25.678 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 17:04:25.743 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 17:04:25.744 +03:00 [INF] Hosting environment: Development
2025-06-08 17:04:25.744 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 17:04:25.745 +03:00 [DBG] Hosting started
2025-06-08 17:04:26.108 +03:00 [DBG] Connection id "0HND6ILGD0L1A" accepted.
2025-06-08 17:04:26.109 +03:00 [DBG] Connection id "0HND6ILGD0L1A" started.
2025-06-08 17:04:26.118 +03:00 [DBG] Connection id "0HND6ILGD0L1B" accepted.
2025-06-08 17:04:26.119 +03:00 [DBG] Connection id "0HND6ILGD0L1B" started.
2025-06-08 17:04:26.150 +03:00 [DBG] Connection id "0HND6ILGD0L1B" received FIN.
2025-06-08 17:04:26.150 +03:00 [DBG] Connection id "0HND6ILGD0L1A" received FIN.
2025-06-08 17:04:26.157 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:04:26.157 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:04:26.167 +03:00 [DBG] Connection id "0HND6ILGD0L1A" stopped.
2025-06-08 17:04:26.167 +03:00 [DBG] Connection id "0HND6ILGD0L1B" stopped.
2025-06-08 17:04:26.169 +03:00 [DBG] Connection id "0HND6ILGD0L1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:04:26.169 +03:00 [DBG] Connection id "0HND6ILGD0L1A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:04:26.278 +03:00 [DBG] Connection id "0HND6ILGD0L1C" accepted.
2025-06-08 17:04:26.279 +03:00 [DBG] Connection id "0HND6ILGD0L1C" started.
2025-06-08 17:04:26.292 +03:00 [DBG] Connection 0HND6ILGD0L1C established using the following protocol: "Tls13"
2025-06-08 17:04:26.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 17:04:26.356 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 17:04:26.358 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:04:26.371 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 17:04:26.372 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:04:26.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 63.2665ms
2025-06-08 17:04:26.378 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 17:04:30.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/ - null null
2025-06-08 17:04:30.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/ - 301 0 null 3.6098ms
2025-06-08 17:04:30.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 17:04:30.738 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 17:04:30.739 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 17:04:30.746 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 17:04:30.747 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 17:04:30.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 33.9094ms
2025-06-08 17:04:30.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 17:04:30.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 17:04:30.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:04:30.766 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:04:30.775 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 17:04:30.775 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 13.9806ms
2025-06-08 17:04:30.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 15.1371ms
2025-06-08 17:04:30.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7139ms
2025-06-08 17:04:30.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:04:30.810 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:04:30.811 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:04:30.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.1045ms
2025-06-08 17:04:30.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:04:30.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.0625ms
2025-06-08 17:04:33.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/customers - null null
2025-06-08 17:04:33.770 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:04:33.773 +03:00 [DBG] 1 candidate(s) found for the request path '/customers'
2025-06-08 17:04:33.774 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)' with route pattern 'customers' is valid for the request path '/customers'
2025-06-08 17:04:33.775 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 17:04:33.777 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 17:04:33.786 +03:00 [INF] Route matched with {action = "GetClients", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:04:33.787 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:04:33.788 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:04:33.788 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:04:33.789 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:04:33.790 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:04:33.791 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:04:33.792 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:04:33.794 +03:00 [INF] START: CustomersController. GetClients()
2025-06-08 17:04:33.799 +03:00 [INF] START: CustomerHandler. GetAllCustomersAsync()
2025-06-08 17:04:37.890 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:04:37.909 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomersResponse{ 
        CustomerID = c.CustomerID, 
        CompanyName = c.CompanyName 
    }
    )'
2025-06-08 17:04:37.986 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomersResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        value1 = dataReader.GetString(0);
        value2 = dataReader.GetString(1);
        return new CustomersResponse{ 
            CustomerID = value1, 
            CompanyName = value2 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 17:04:37.998 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:04:37.999 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:04:38.000 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:38.002 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:38.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:04:38.003 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:38.004 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:38.005 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 17:04:38.015 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 17:04:38.022 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:04:38.023 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 6ms reading results.
2025-06-08 17:04:38.024 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:38.025 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:04:38.026 +03:00 [INF] END: CustomerHandler. GetAllCustomersAsync()
2025-06-08 17:04:38.026 +03:00 [INF] END: CustomersController. GetClients()
2025-06-08 17:04:38.028 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 17:04:38.029 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 17:04:38.030 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 17:04:38.030 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 17:04:38.031 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 17:04:38.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 17:04:38.038 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClients (CO.API) in 4246.3274ms
2025-06-08 17:04:38.039 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 17:04:38.041 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:04:38.042 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:38.043 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:04:38.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/customers - 200 null application/json; charset=utf-8 4275.5866ms
2025-06-08 17:04:49.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI - null null
2025-06-08 17:04:49.601 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:04:49.602 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI'
2025-06-08 17:04:49.602 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/ALFKI'
2025-06-08 17:04:49.603 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 17:04:49.604 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 17:04:49.609 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:04:49.610 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:04:49.611 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:04:49.611 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:04:49.612 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:04:49.613 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:04:49.614 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:04:49.615 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:04:49.623 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:04:49.625 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:04:49.625 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:04:49.626 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:04:49.627 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:04:49.629 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:04:49.631 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:04:49.632 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:04:49.663 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:04:49.670 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<string>(e, "CustomerID") == __p_0)'
2025-06-08 17:04:49.701 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.City (string) Required, 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string) Required, 4], [Property: Customer.ContactTitle (string) Required, 5], [Property: Customer.Country (string) Required, 6], [Property: Customer.Fax (string) Required, 7], [Property: Customer.Phone (string) Required, 8], [Property: Customer.PostalCode (string) Required, 9], [Property: Customer.Region (string) Required, 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.City (string) Required, 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string) Required, 4], [Property: Customer.ContactTitle (string) Required, 5], [Property: Customer.Country (string) Required, 6], [Property: Customer.Fax (string) Required, 7], [Property: Customer.Phone (string) Required, 8], [Property: Customer.PostalCode (string) Required, 9], [Property: Customer.Region (string) Required, 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                    instance.<Address>k__BackingField = dataReader.GetString(1);
                                    instance.<City>k__BackingField = dataReader.GetString(2);
                                    instance.<CompanyName>k__BackingField = dataReader.GetString(3);
                                    instance.<ContactName>k__BackingField = dataReader.GetString(4);
                                    instance.<ContactTitle>k__BackingField = dataReader.GetString(5);
                                    instance.<Country>k__BackingField = dataReader.GetString(6);
                                    instance.<Fax>k__BackingField = dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.GetString(8);
                                    instance.<PostalCode>k__BackingField = dataReader.GetString(9);
                                    instance.<Region>k__BackingField = dataReader.GetString(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 17:04:49.706 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:04:49.706 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:04:49.707 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:49.707 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:49.708 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:04:49.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:49.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 17:04:49.712 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:04:49.724 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:04:49.733 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 17:04:49.735 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:04:49.735 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 9ms reading results.
2025-06-08 17:04:49.736 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:49.736 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:04:49.763 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:04:49.776 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:04:49.789 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 17:04:49.809 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 17:04:49.810 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 196.1303ms
2025-06-08 17:04:49.811 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 17:04:49.860 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 17:04:49.865 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6ILGD0L1C:00000015"}
2025-06-08 17:04:49.865 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:04:49.866 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:49.867 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:04:49.868 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI - 500 null application/json 268.6157ms
2025-06-08 17:04:54.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 17:04:54.149 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:04:54.150 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 17:04:54.150 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 17:04:54.151 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:04:54.151 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:04:54.154 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:04:54.155 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:04:54.156 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:04:54.157 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:04:54.157 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:04:54.158 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:04:54.159 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:04:54.160 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:04:54.161 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:04:54.162 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:04:54.163 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:04:54.163 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:04:54.164 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:04:54.164 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:04:54.165 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:04:54.166 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:04:54.166 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:04:54.169 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:04:54.170 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:04:54.170 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:54.171 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:54.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:04:54.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:54.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:04:54.173 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:04:54.175 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:04:54.176 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-08 17:04:54.178 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:04:54.178 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 2ms reading results.
2025-06-08 17:04:54.179 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:54.179 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:04:54.191 +03:00 [INF] ERROR: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:04:54.202 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:04:54.215 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
2025-06-08 17:04:54.228 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 17:04:54.229 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 70.5989ms
2025-06-08 17:04:54.230 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:04:54.275 +03:00 [ERR] Unhandled exception occurred.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method37(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 41
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 17:04:54.278 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6ILGD0L1C:00000017"}
2025-06-08 17:04:54.279 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:04:54.279 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:04:54.280 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:04:54.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - 500 null application/json 133.6011ms
2025-06-08 17:07:29.569 +03:00 [INF] Starting web host
2025-06-08 17:07:29.810 +03:00 [DBG] Hosting starting
2025-06-08 17:07:29.895 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 17:07:30.052 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 17:07:30.107 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:07:30.108 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:07:30.109 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:07:30.134 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:07:30.141 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:07:30.155 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 17:07:30.158 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.257 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.260 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:07:30.262 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 17:07:30.264 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 17:07:30.266 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:07:30.276 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:07:30.278 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.281 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 17:07:30.282 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 17:07:30.286 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 17:07:30.287 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.288 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.288 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.289 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:07:30.289 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:07:30.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:07:30.290 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:07:30.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:07:30.292 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.292 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:07:30.293 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.294 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.294 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 17:07:30.296 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:07:30.296 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:07:30.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 17:07:30.297 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:07:30.311 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:07:30.360 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:07:30.363 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:07:30.363 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:07:30.364 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:07:30.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:07:30.365 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:07:30.367 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:07:30.369 +03:00 [DBG] Committing transaction.
2025-06-08 17:07:30.370 +03:00 [DBG] Committed transaction.
2025-06-08 17:07:30.371 +03:00 [DBG] Disposing transaction.
2025-06-08 17:07:30.372 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:07:30.372 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:07:30.373 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:07:30.373 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:07:30.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:07:30.374 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:07:30.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:07:30.376 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:07:30.376 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:07:30.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:07:30.377 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:07:30.378 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:07:30.379 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:07:30.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:07:30.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 17:07:30.381 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:07:30.383 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:07:30.384 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.385 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:07:30.387 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 17:07:30.388 +03:00 [DBG] Committing transaction.
2025-06-08 17:07:30.388 +03:00 [DBG] Committed transaction.
2025-06-08 17:07:30.388 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:07:30.389 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:07:30.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 17:07:30.390 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:07:30.393 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:07:30.394 +03:00 [DBG] Disposing transaction.
2025-06-08 17:07:30.394 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.395 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:07:30.395 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 17:07:30.396 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:07:30.397 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:30.398 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:07:30.428 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 17:07:30.510 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 17:07:30.510 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 17:07:30.510 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 17:07:30.511 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 17:07:30.511 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 17:07:30.511 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 17:07:30.550 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 17:07:30.550 +03:00 [INF] Hosting environment: Development
2025-06-08 17:07:30.551 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 17:07:30.551 +03:00 [DBG] Hosting started
2025-06-08 17:07:30.564 +03:00 [DBG] Connection id "0HND6IN7C49NP" accepted.
2025-06-08 17:07:30.565 +03:00 [DBG] Connection id "0HND6IN7C49NP" started.
2025-06-08 17:07:30.575 +03:00 [DBG] Connection id "0HND6IN7C49NQ" accepted.
2025-06-08 17:07:30.576 +03:00 [DBG] Connection id "0HND6IN7C49NQ" started.
2025-06-08 17:07:30.608 +03:00 [DBG] Connection id "0HND6IN7C49NQ" received FIN.
2025-06-08 17:07:30.608 +03:00 [DBG] Connection id "0HND6IN7C49NP" received FIN.
2025-06-08 17:07:30.615 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:07:30.615 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:07:30.624 +03:00 [DBG] Connection id "0HND6IN7C49NQ" stopped.
2025-06-08 17:07:30.624 +03:00 [DBG] Connection id "0HND6IN7C49NP" stopped.
2025-06-08 17:07:30.625 +03:00 [DBG] Connection id "0HND6IN7C49NQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:07:30.625 +03:00 [DBG] Connection id "0HND6IN7C49NP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:07:30.732 +03:00 [DBG] Connection id "0HND6IN7C49NR" accepted.
2025-06-08 17:07:30.733 +03:00 [DBG] Connection id "0HND6IN7C49NR" started.
2025-06-08 17:07:30.744 +03:00 [DBG] Connection 0HND6IN7C49NR established using the following protocol: "Tls13"
2025-06-08 17:07:30.768 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 17:07:30.806 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 17:07:30.809 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:07:30.823 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 17:07:30.824 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:07:30.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 63.565ms
2025-06-08 17:07:30.831 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 17:07:33.612 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 17:07:33.637 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 17:07:33.638 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 17:07:33.645 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 17:07:33.646 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 17:07:33.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 34.6667ms
2025-06-08 17:07:33.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:07:33.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 17:07:33.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 17:07:33.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 8.4105ms
2025-06-08 17:07:33.670 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:07:33.671 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 17:07:33.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 15.24ms
2025-06-08 17:07:33.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4492ms
2025-06-08 17:07:33.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:07:33.699 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:07:33.700 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:07:33.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.733ms
2025-06-08 17:07:33.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:07:33.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.3908ms
2025-06-08 17:07:39.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI - null null
2025-06-08 17:07:39.653 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:07:39.657 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI'
2025-06-08 17:07:39.658 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/ALFKI'
2025-06-08 17:07:39.659 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 17:07:39.661 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 17:07:39.673 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:07:39.674 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:07:39.675 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:07:39.675 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:07:39.676 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:07:39.677 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:07:39.678 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:07:39.679 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:07:39.685 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:07:39.686 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:07:39.687 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:07:39.688 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:07:39.688 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:07:39.691 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:07:39.693 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:07:39.694 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:07:39.699 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:07:39.729 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<string>(e, "CustomerID") == __p_0)'
2025-06-08 17:07:39.821 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string), 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string), 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<City>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CompanyName>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<ContactName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ContactTitle>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Country>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Fax>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<PostalCode>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Region>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 17:07:39.836 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:07:39.837 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:07:39.838 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:39.839 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:39.840 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:07:39.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:07:39.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 17:07:39.844 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:07:39.858 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:07:39.875 +03:00 [DBG] Context 'ApiDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08 17:07:39.887 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:07:39.888 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 28ms reading results.
2025-06-08 17:07:39.889 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:39.890 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:07:39.891 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:07:39.891 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 17:07:39.893 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 17:07:39.895 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 17:07:39.895 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 17:07:39.895 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 17:07:39.896 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 17:07:39.897 +03:00 [INF] Executing OkObjectResult, writing value of type 'CO.API.Models.CustomerDetailResponse'.
2025-06-08 17:07:39.901 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 222.662ms
2025-06-08 17:07:39.902 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 17:07:39.904 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:07:39.905 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:39.906 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:07:39.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI - 200 null application/json; charset=utf-8 255.8471ms
2025-06-08 17:07:50.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 17:07:50.175 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:07:50.176 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 17:07:50.176 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 17:07:50.177 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:07:50.178 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:07:50.181 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:07:50.182 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:07:50.183 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:07:50.183 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:07:50.184 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:07:50.185 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:07:50.186 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:07:50.187 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:07:50.188 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:07:50.189 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:07:50.190 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:07:50.190 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:07:50.191 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:07:50.191 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:07:50.193 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:07:50.193 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:07:50.225 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:07:50.228 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:07:50.228 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:07:50.229 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:50.229 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:50.230 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:07:50.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:07:50.231 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:07:50.232 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:07:50.236 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 17:07:50.238 +03:00 [DBG] Context 'ApiDbContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08 17:07:50.238 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:07:50.239 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:07:50.239 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:50.240 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:07:50.241 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(ALFKI)
2025-06-08 17:07:50.241 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 17:07:50.242 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 17:07:50.243 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 17:07:50.243 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 17:07:50.243 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 17:07:50.244 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 17:07:50.244 +03:00 [INF] Executing OkObjectResult, writing value of type 'CO.API.Models.CustomerDetailResponse'.
2025-06-08 17:07:50.245 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 59.3132ms
2025-06-08 17:07:50.246 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:07:50.246 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:07:50.247 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:07:50.248 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:07:50.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - 200 null application/json; charset=utf-8 75.233ms
2025-06-08 17:08:06.319 +03:00 [INF] Starting web host
2025-06-08 17:08:06.565 +03:00 [DBG] Hosting starting
2025-06-08 17:08:06.653 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 17:08:06.815 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 17:08:06.877 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:08:06.878 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:08:06.879 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:08:06.906 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:08:06.914 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:08:06.933 +03:00 [DBG] Created DbConnection. (16ms).
2025-06-08 17:08:06.936 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.060 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.064 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:08:07.067 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-08 17:08:07.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-06-08 17:08:07.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:08:07.082 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:08:07.083 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.087 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 17:08:07.088 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 17:08:07.091 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 17:08:07.092 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.093 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.094 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.094 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:08:07.094 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:08:07.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:08:07.096 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:08:07.096 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:08:07.097 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.098 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:08:07.098 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.099 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.099 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 17:08:07.101 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:08:07.102 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:08:07.102 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:08:07.103 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:08:07.109 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:08:07.158 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:08:07.160 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:08:07.161 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:08:07.161 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:08:07.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:08:07.163 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:08:07.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:08:07.166 +03:00 [DBG] Committing transaction.
2025-06-08 17:08:07.167 +03:00 [DBG] Committed transaction.
2025-06-08 17:08:07.168 +03:00 [DBG] Disposing transaction.
2025-06-08 17:08:07.169 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:08:07.170 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:08:07.171 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:08:07.171 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:08:07.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:08:07.172 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:08:07.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:08:07.174 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:08:07.175 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:08:07.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:08:07.176 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:08:07.176 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:08:07.178 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:08:07.178 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:08:07.179 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 17:08:07.180 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:08:07.181 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:08:07.182 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.183 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:08:07.186 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 17:08:07.186 +03:00 [DBG] Committing transaction.
2025-06-08 17:08:07.187 +03:00 [DBG] Committed transaction.
2025-06-08 17:08:07.187 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:08:07.187 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:08:07.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:08:07.188 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:08:07.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:08:07.190 +03:00 [DBG] Disposing transaction.
2025-06-08 17:08:07.190 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.191 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:08:07.192 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 17:08:07.192 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:08:07.194 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:07.195 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-06-08 17:08:07.227 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 17:08:07.312 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 17:08:07.312 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 17:08:07.313 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 17:08:07.313 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 17:08:07.314 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 17:08:07.314 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 17:08:07.339 +03:00 [DBG] Connection id "0HND6INIAR2P4" received FIN.
2025-06-08 17:08:07.339 +03:00 [DBG] Connection id "0HND6INIAR2P5" received FIN.
2025-06-08 17:08:07.343 +03:00 [DBG] Connection id "0HND6INIAR2P5" accepted.
2025-06-08 17:08:07.343 +03:00 [DBG] Connection id "0HND6INIAR2P4" accepted.
2025-06-08 17:08:07.344 +03:00 [DBG] Connection id "0HND6INIAR2P5" started.
2025-06-08 17:08:07.344 +03:00 [DBG] Connection id "0HND6INIAR2P4" started.
2025-06-08 17:08:07.351 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:08:07.359 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 17:08:07.351 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:08:07.362 +03:00 [INF] Hosting environment: Development
2025-06-08 17:08:07.363 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 17:08:07.364 +03:00 [DBG] Hosting started
2025-06-08 17:08:07.364 +03:00 [DBG] Connection id "0HND6INIAR2P5" stopped.
2025-06-08 17:08:07.364 +03:00 [DBG] Connection id "0HND6INIAR2P4" stopped.
2025-06-08 17:08:07.366 +03:00 [DBG] Connection id "0HND6INIAR2P5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:08:07.366 +03:00 [DBG] Connection id "0HND6INIAR2P4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:08:07.469 +03:00 [DBG] Connection id "0HND6INIAR2P6" accepted.
2025-06-08 17:08:07.470 +03:00 [DBG] Connection id "0HND6INIAR2P6" started.
2025-06-08 17:08:07.483 +03:00 [DBG] Connection 0HND6INIAR2P6 established using the following protocol: "Tls13"
2025-06-08 17:08:07.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 17:08:07.546 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 17:08:07.549 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:08:07.561 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 17:08:07.561 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:08:07.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 62.5147ms
2025-06-08 17:08:07.568 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 17:08:18.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 17:08:18.126 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 17:08:18.127 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 17:08:18.134 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 17:08:18.134 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 17:08:18.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 36.7181ms
2025-06-08 17:08:18.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 17:08:18.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:08:18.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 17:08:18.156 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:08:18.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 9.2926ms
2025-06-08 17:08:18.158 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 17:08:18.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 13.9303ms
2025-06-08 17:08:18.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.5926ms
2025-06-08 17:08:18.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:08:18.190 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:08:18.191 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:08:18.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.5903ms
2025-06-08 17:08:18.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:08:18.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.7658ms
2025-06-08 17:08:25.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 17:08:25.407 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:08:25.411 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 17:08:25.412 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 17:08:25.413 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:08:25.414 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:08:25.426 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:08:25.427 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:08:25.428 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:08:25.429 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:08:25.430 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:08:25.430 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:08:25.431 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:08:25.433 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:08:25.438 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:08:25.439 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:08:25.440 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:08:25.441 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:08:25.441 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:08:25.444 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:08:25.445 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:08:25.451 +03:00 [INF] START: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:08:25.462 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:08:25.479 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(c => c.CustomerID == __customerId_0)'
2025-06-08 17:08:25.547 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Customers AS c
                WHERE c.CustomerID == @__customerId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Customers AS c
                WHERE c.CustomerID == @__customerId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 17:08:25.565 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:08:25.565 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:08:25.566 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.568 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:08:25.569 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:08:25.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 17:08:25.572 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:08:25.590 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:08:25.596 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.597 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 5ms reading results.
2025-06-08 17:08:25.598 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.599 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:08:25.603 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(o => o.CustomerID == __customerId_0)
    .Select(o => new CustomerOrderResponse{ 
        OrderID = o.OrderID, 
        OrderDate = o.OrderDate, 
        RequiredDate = o.RequiredDate, 
        ShippedDate = o.ShippedDate, 
        Total = o.OrderDetails
            .Sum(od => od.UnitPrice * (decimal)od.Quantity * (decimal)(1 - od.Discount)), 
        ProductCount = o.OrderDetails
            .Sum(od => (int)od.Quantity), 
        Warning = o.OrderDetails
            .Any(od => od.Product.Discontinued || (int)od.Product.UnitsInStock < (int)od.Product.UnitsOnOrder) ? "Order contains discontinued products or insufficient stock." : null 
    }
    )'
2025-06-08 17:08:25.636 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerOrderResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM OrderDetails AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM OrderDetails AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM OrderDetails AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM OrderDetails AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM OrderDetails AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM OrderDetails AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        DateTime? value2;
        DateTime? value3;
        DateTime? value4;
        decimal? value5;
        int? value6;
        string value7;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
        value3 = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
        value4 = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
        value5 = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
        value6 = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
        value7 = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
        return new CustomerOrderResponse{ 
            OrderID = (int)value1, 
            OrderDate = value2, 
            RequiredDate = value3, 
            ShippedDate = value4, 
            Total = (decimal)value5, 
            ProductCount = (int)value6, 
            Warning = value7 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 17:08:25.643 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.644 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:08:25.645 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:08:25.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:08:25.646 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [OrderDetails] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [OrderDetails] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [OrderDetails] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:08:25.651 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [OrderDetails] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [OrderDetails] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [OrderDetails] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:08:25.652 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.653 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:08:25.657 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8cbe03b6-a3d9-43b7-aeb3-33888ea1d540
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8cbe03b6-a3d9-43b7-aeb3-33888ea1d540
Error Number:208,State:1,Class:16
2025-06-08 17:08:25.686 +03:00 [INF] ERROR: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:08:25.698 +03:00 [INF] END: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:08:25.711 +03:00 [ERR] ERROR: CustomersController. GetClientById(ALFKI)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerOrdersAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 87
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
ClientConnectionId:8cbe03b6-a3d9-43b7-aeb3-33888ea1d540
Error Number:208,State:1,Class:16
2025-06-08 17:08:25.733 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 17:08:25.736 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 303.6785ms
2025-06-08 17:08:25.737 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:08:25.791 +03:00 [ERR] Unhandled exception occurred.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CO.API.Handlers.CustomerHandler.GetCustomerOrdersAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 87
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
ClientConnectionId:8cbe03b6-a3d9-43b7-aeb3-33888ea1d540
Error Number:208,State:1,Class:16
2025-06-08 17:08:25.798 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6INIAR2P6:00000011"}
2025-06-08 17:08:25.800 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:08:25.801 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:08:25.802 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:08:25.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - 500 null application/json 396.9898ms
2025-06-08 17:11:16.052 +03:00 [DBG] Connection id "0HND6INIAR2P6" received FIN.
2025-06-08 17:11:16.059 +03:00 [DBG] Connection id "0HND6INIAR2P6" is closed. The last processed stream ID was 17.
2025-06-08 17:11:16.060 +03:00 [DBG] Connection id "0HND6INIAR2P6" is closing.
2025-06-08 17:11:16.061 +03:00 [DBG] Connection id "0HND6INIAR2P6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:11:16.063 +03:00 [DBG] The connection queue processing loop for 0HND6INIAR2P6 completed.
2025-06-08 17:11:16.064 +03:00 [DBG] Connection id "0HND6INIAR2P6" stopped.
2025-06-08 17:12:31.121 +03:00 [INF] Starting web host
2025-06-08 17:12:31.368 +03:00 [DBG] Hosting starting
2025-06-08 17:12:31.452 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 17:12:31.612 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 17:12:31.668 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:12:31.669 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:12:31.670 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:12:31.694 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:12:31.700 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:12:31.714 +03:00 [DBG] Created DbConnection. (12ms).
2025-06-08 17:12:31.716 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.814 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.818 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:12:31.820 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 17:12:31.822 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 17:12:31.825 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:12:31.835 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:12:31.837 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.840 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 17:12:31.841 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 17:12:31.844 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 17:12:31.845 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.846 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.847 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.847 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:12:31.847 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:12:31.848 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:12:31.848 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:12:31.850 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:12:31.850 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.851 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:12:31.852 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.852 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.853 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 17:12:31.854 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:12:31.855 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:12:31.855 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:12:31.856 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:12:31.868 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:12:31.916 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:12:31.918 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:12:31.919 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:12:31.920 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:12:31.920 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:12:31.921 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:12:31.923 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:12:31.925 +03:00 [DBG] Committing transaction.
2025-06-08 17:12:31.926 +03:00 [DBG] Committed transaction.
2025-06-08 17:12:31.927 +03:00 [DBG] Disposing transaction.
2025-06-08 17:12:31.928 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:12:31.929 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:12:31.930 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:12:31.930 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:12:31.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:12:31.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:12:31.932 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:12:31.933 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:12:31.933 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:12:31.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:12:31.934 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:12:31.935 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:12:31.936 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:12:31.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:12:31.937 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:12:31.938 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:12:31.940 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:12:31.941 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.942 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:12:31.945 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 17:12:31.946 +03:00 [DBG] Committing transaction.
2025-06-08 17:12:31.946 +03:00 [DBG] Committed transaction.
2025-06-08 17:12:31.947 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:12:31.947 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:12:31.948 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:12:31.948 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:12:31.969 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:12:31.970 +03:00 [DBG] Disposing transaction.
2025-06-08 17:12:31.970 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.971 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:12:31.972 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 17:12:31.972 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:12:31.974 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:31.974 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:12:32.005 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 17:12:32.090 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 17:12:32.090 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 17:12:32.091 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 17:12:32.091 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 17:12:32.091 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 17:12:32.092 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 17:12:32.103 +03:00 [DBG] Connection id "0HND6IQ17QF5U" accepted.
2025-06-08 17:12:32.103 +03:00 [DBG] Connection id "0HND6IQ17QF5U" started.
2025-06-08 17:12:32.114 +03:00 [DBG] Connection id "0HND6IQ17QF5V" accepted.
2025-06-08 17:12:32.115 +03:00 [DBG] Connection id "0HND6IQ17QF5V" started.
2025-06-08 17:12:32.131 +03:00 [DBG] Connection id "0HND6IQ17QF5U" received FIN.
2025-06-08 17:12:32.131 +03:00 [DBG] Connection id "0HND6IQ17QF5V" received FIN.
2025-06-08 17:12:32.135 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 17:12:32.136 +03:00 [INF] Hosting environment: Development
2025-06-08 17:12:32.136 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 17:12:32.136 +03:00 [DBG] Hosting started
2025-06-08 17:12:32.138 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:12:32.138 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:12:32.148 +03:00 [DBG] Connection id "0HND6IQ17QF5U" stopped.
2025-06-08 17:12:32.148 +03:00 [DBG] Connection id "0HND6IQ17QF5V" stopped.
2025-06-08 17:12:32.150 +03:00 [DBG] Connection id "0HND6IQ17QF5V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:12:32.150 +03:00 [DBG] Connection id "0HND6IQ17QF5U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:12:32.279 +03:00 [DBG] Connection id "0HND6IQ17QF60" accepted.
2025-06-08 17:12:32.280 +03:00 [DBG] Connection id "0HND6IQ17QF60" started.
2025-06-08 17:12:32.292 +03:00 [DBG] Connection 0HND6IQ17QF60 established using the following protocol: "Tls13"
2025-06-08 17:12:32.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 17:12:32.355 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 17:12:32.358 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:12:32.371 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 17:12:32.372 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:12:32.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 62.6288ms
2025-06-08 17:12:32.378 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 17:12:34.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 17:12:34.800 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 17:12:34.801 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 17:12:34.808 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 17:12:34.808 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 17:12:34.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.5547ms
2025-06-08 17:12:34.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:12:34.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 17:12:34.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 17:12:34.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 6.7738ms
2025-06-08 17:12:34.832 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:12:34.833 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 17:12:34.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 13.3724ms
2025-06-08 17:12:34.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7541ms
2025-06-08 17:12:34.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:12:34.860 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:12:34.861 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:12:34.861 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.4116ms
2025-06-08 17:12:34.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:12:34.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.9662ms
2025-06-08 17:12:45.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 17:12:45.118 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:12:45.122 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 17:12:45.123 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 17:12:45.124 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:12:45.125 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:12:45.137 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:12:45.139 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:12:45.139 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:12:45.140 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:12:45.141 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:12:45.142 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:12:45.143 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:12:45.144 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:12:45.150 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:12:45.151 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:12:45.152 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:12:45.153 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:12:45.153 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:12:45.156 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:12:45.157 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:12:45.162 +03:00 [INF] START: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:12:58.622 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:12:58.641 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(c => c.CustomerID == __customerId_0)'
2025-06-08 17:12:58.721 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-06-08 17:12:58.736 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:12:58.737 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:12:58.737 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:58.738 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:58.738 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:12:58.739 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:12:58.740 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 17:12:58.742 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:12:58.751 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:12:58.753 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:12:58.753 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:12:58.754 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:12:58.754 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:13:14.037 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(o => o.CustomerID == __customerId_0)
    .Select(o => new CustomerOrderResponse{ 
        OrderID = o.OrderID, 
        OrderDate = o.OrderDate, 
        RequiredDate = o.RequiredDate, 
        ShippedDate = o.ShippedDate, 
        Total = o.OrderDetails
            .Sum(od => od.UnitPrice * (decimal)od.Quantity * (decimal)(1 - od.Discount)), 
        ProductCount = o.OrderDetails
            .Sum(od => (int)od.Quantity), 
        Warning = o.OrderDetails
            .Any(od => od.Product.Discontinued || (int)od.Product.UnitsInStock < (int)od.Product.UnitsOnOrder) ? "Order contains discontinued products or insufficient stock." : null 
    }
    )'
2025-06-08 17:13:14.072 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerOrderResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM OrderDetails AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM OrderDetails AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM OrderDetails AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM OrderDetails AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM OrderDetails AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM OrderDetails AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        DateTime? value2;
        DateTime? value3;
        DateTime? value4;
        decimal? value5;
        int? value6;
        string value7;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
        value3 = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
        value4 = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
        value5 = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
        value6 = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
        value7 = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
        return new CustomerOrderResponse{ 
            OrderID = (int)value1, 
            OrderDate = value2, 
            RequiredDate = value3, 
            ShippedDate = value4, 
            Total = (decimal)value5, 
            ProductCount = (int)value6, 
            Warning = value7 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 17:13:14.082 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:13:14.084 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:13:14.084 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:13:14.085 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:13:14.085 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:13:14.086 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [OrderDetails] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [OrderDetails] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [OrderDetails] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:13:14.106 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [OrderDetails] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [OrderDetails] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [OrderDetails] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:13:14.108 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:13:14.109 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:13:14.113 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9c07de1c-fb8b-4554-8d61-922667a16c24
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9c07de1c-fb8b-4554-8d61-922667a16c24
Error Number:208,State:1,Class:16
2025-06-08 17:14:12.033 +03:00 [INF] Starting web host
2025-06-08 17:14:12.281 +03:00 [DBG] Hosting starting
2025-06-08 17:14:12.367 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 17:14:12.525 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 17:14:12.581 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:14:12.582 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:14:12.583 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:14:12.608 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:14:12.614 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:14:12.628 +03:00 [DBG] Created DbConnection. (12ms).
2025-06-08 17:14:12.630 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.728 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.732 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:14:12.735 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-08 17:14:12.736 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 17:14:12.739 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:14:12.749 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:14:12.751 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.754 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 17:14:12.755 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 17:14:12.758 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 17:14:12.759 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.760 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.761 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.761 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:14:12.762 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:14:12.762 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:14:12.763 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:14:12.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:14:12.764 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.765 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:14:12.765 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.766 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.767 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 17:14:12.768 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:14:12.768 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:14:12.769 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:14:12.769 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:14:12.781 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:14:12.828 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:14:12.831 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:14:12.832 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:14:12.832 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:14:12.833 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:14:12.833 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:14:12.835 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:14:12.836 +03:00 [DBG] Committing transaction.
2025-06-08 17:14:12.838 +03:00 [DBG] Committed transaction.
2025-06-08 17:14:12.838 +03:00 [DBG] Disposing transaction.
2025-06-08 17:14:12.839 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:14:12.840 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:14:12.841 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:14:12.841 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:14:12.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:14:12.842 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:14:12.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:14:12.844 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:14:12.844 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:14:12.845 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:14:12.845 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:14:12.846 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:14:12.847 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:14:12.847 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:14:12.848 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:14:12.848 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:14:12.850 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:14:12.851 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.852 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:14:12.855 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 17:14:12.855 +03:00 [DBG] Committing transaction.
2025-06-08 17:14:12.856 +03:00 [DBG] Committed transaction.
2025-06-08 17:14:12.856 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:14:12.856 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:14:12.857 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:14:12.857 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:14:12.861 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:14:12.861 +03:00 [DBG] Disposing transaction.
2025-06-08 17:14:12.862 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.862 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:14:12.863 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 17:14:12.864 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:14:12.865 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:12.865 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:14:12.896 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 17:14:12.977 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 17:14:12.977 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 17:14:12.977 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 17:14:12.978 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 17:14:12.978 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 17:14:12.978 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 17:14:13.016 +03:00 [DBG] Connection id "0HND6IQVA6OTT" received FIN.
2025-06-08 17:14:13.016 +03:00 [DBG] Connection id "0HND6IQVA6OTU" received FIN.
2025-06-08 17:14:13.018 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 17:14:13.020 +03:00 [INF] Hosting environment: Development
2025-06-08 17:14:13.020 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 17:14:13.021 +03:00 [DBG] Hosting started
2025-06-08 17:14:13.022 +03:00 [DBG] Connection id "0HND6IQVA6OTU" accepted.
2025-06-08 17:14:13.022 +03:00 [DBG] Connection id "0HND6IQVA6OTT" accepted.
2025-06-08 17:14:13.023 +03:00 [DBG] Connection id "0HND6IQVA6OTU" started.
2025-06-08 17:14:13.024 +03:00 [DBG] Connection id "0HND6IQVA6OTT" started.
2025-06-08 17:14:13.031 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:14:13.031 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:14:13.040 +03:00 [DBG] Connection id "0HND6IQVA6OTU" stopped.
2025-06-08 17:14:13.040 +03:00 [DBG] Connection id "0HND6IQVA6OTT" stopped.
2025-06-08 17:14:13.042 +03:00 [DBG] Connection id "0HND6IQVA6OTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:14:13.042 +03:00 [DBG] Connection id "0HND6IQVA6OTT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:14:13.137 +03:00 [DBG] Connection id "0HND6IQVA6OTV" accepted.
2025-06-08 17:14:13.138 +03:00 [DBG] Connection id "0HND6IQVA6OTV" started.
2025-06-08 17:14:13.151 +03:00 [DBG] Connection 0HND6IQVA6OTV established using the following protocol: "Tls13"
2025-06-08 17:14:13.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 17:14:13.214 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 17:14:13.217 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:14:13.230 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 17:14:13.231 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:14:13.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 64.1747ms
2025-06-08 17:14:13.238 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 17:14:16.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 17:14:16.368 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 17:14:16.369 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 17:14:16.376 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 17:14:16.377 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 17:14:16.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.544ms
2025-06-08 17:14:16.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 17:14:16.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:14:16.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 17:14:16.400 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:14:16.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 9.9967ms
2025-06-08 17:14:16.401 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 17:14:16.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 13.8389ms
2025-06-08 17:14:16.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1234ms
2025-06-08 17:14:16.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:14:16.431 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:14:16.432 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:14:16.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 3.4184ms
2025-06-08 17:14:16.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:14:16.454 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.3913ms
2025-06-08 17:14:26.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 17:14:26.434 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:14:26.438 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 17:14:26.439 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 17:14:26.440 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:14:26.441 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:14:26.454 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:14:26.455 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:14:26.456 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:14:26.457 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:14:26.458 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:14:26.458 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:14:26.460 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:14:26.461 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:14:26.466 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:14:26.468 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:14:26.469 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:14:26.470 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:14:26.471 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:14:26.473 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:14:26.475 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:14:26.479 +03:00 [INF] START: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:14:28.471 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:14:28.489 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(c => c.CustomerID == __customerId_0)'
2025-06-08 17:14:28.569 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-06-08 17:14:28.585 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:14:28.585 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:14:28.586 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.586 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.587 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:14:28.588 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:14:28.589 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 17:14:28.591 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:14:28.601 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:14:28.602 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.603 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:14:28.604 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.604 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:14:28.610 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(o => o.CustomerID == __customerId_0)
    .Select(o => new CustomerOrderResponse{ 
        OrderID = o.OrderID, 
        OrderDate = o.OrderDate, 
        RequiredDate = o.RequiredDate, 
        ShippedDate = o.ShippedDate, 
        Total = o.OrderDetails
            .Sum(od => od.UnitPrice * (decimal)od.Quantity * (decimal)(1 - od.Discount)), 
        ProductCount = o.OrderDetails
            .Sum(od => (int)od.Quantity), 
        Warning = o.OrderDetails
            .Any(od => od.Product.Discontinued || (int)od.Product.UnitsInStock < (int)od.Product.UnitsOnOrder) ? "Order contains discontinued products or insufficient stock." : null 
    }
    )'
2025-06-08 17:14:28.645 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerOrderResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM OrderDetails AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM OrderDetails AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM OrderDetails AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM OrderDetails AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM OrderDetails AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM OrderDetails AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        DateTime? value2;
        DateTime? value3;
        DateTime? value4;
        decimal? value5;
        int? value6;
        string value7;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
        value3 = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
        value4 = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
        value5 = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
        value6 = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
        value7 = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
        return new CustomerOrderResponse{ 
            OrderID = (int)value1, 
            OrderDate = value2, 
            RequiredDate = value3, 
            ShippedDate = value4, 
            Total = (decimal)value5, 
            ProductCount = (int)value6, 
            Warning = value7 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 17:14:28.655 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.657 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:14:28.658 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:14:28.658 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:14:28.659 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [OrderDetails] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [OrderDetails] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [OrderDetails] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:14:28.668 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [OrderDetails] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [OrderDetails] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [OrderDetails] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:14:28.670 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:14:28.671 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:14:28.676 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CO.API.Data.ApiDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2a485259-81d8-416d-bca9-13798e0d4cac
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'OrderDetails'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2a485259-81d8-416d-bca9-13798e0d4cac
Error Number:208,State:1,Class:16
2025-06-08 17:26:17.979 +03:00 [INF] Starting web host
2025-06-08 17:26:18.285 +03:00 [DBG] Hosting starting
2025-06-08 17:26:18.371 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 17:26:18.536 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 17:26:18.600 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:26:18.602 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:26:18.603 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 17:26:18.634 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:26:18.642 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:26:18.656 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 17:26:18.658 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.765 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.768 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:26:18.772 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-08 17:26:18.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-06-08 17:26:18.777 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:26:18.788 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:26:18.789 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.794 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (3ms).
2025-06-08 17:26:18.795 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 17:26:18.800 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 17:26:18.801 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.801 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.802 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.803 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:26:18.803 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:26:18.804 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:26:18.805 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:26:18.807 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:26:18.808 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.809 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:26:18.810 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.810 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.811 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 17:26:18.813 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:26:18.813 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:26:18.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 17:26:18.815 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:26:18.830 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 17:26:18.881 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:26:18.884 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:26:18.885 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:26:18.886 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:26:18.887 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:26:18.887 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:26:18.894 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 17:26:18.895 +03:00 [DBG] Committing transaction.
2025-06-08 17:26:18.897 +03:00 [DBG] Committed transaction.
2025-06-08 17:26:18.898 +03:00 [DBG] Disposing transaction.
2025-06-08 17:26:18.899 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 17:26:18.900 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 17:26:18.901 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 17:26:18.902 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 17:26:18.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 17:26:18.903 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:26:18.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 17:26:18.905 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:26:18.905 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:26:18.906 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 17:26:18.906 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:26:18.908 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 17:26:18.909 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:26:18.910 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:26:18.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:26:18.911 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:26:18.915 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 17:26:18.917 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.918 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:26:18.921 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 17:26:18.921 +03:00 [DBG] Committing transaction.
2025-06-08 17:26:18.922 +03:00 [DBG] Committed transaction.
2025-06-08 17:26:18.923 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 17:26:18.923 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 17:26:18.924 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 17:26:18.925 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:26:18.928 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 17:26:18.929 +03:00 [DBG] Disposing transaction.
2025-06-08 17:26:18.930 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.931 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:26:18.931 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 17:26:18.932 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:26:18.933 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:18.934 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:26:18.967 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 17:26:19.049 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 17:26:19.050 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 17:26:19.050 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 17:26:19.051 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 17:26:19.051 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 17:26:19.051 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 17:26:19.090 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 17:26:19.090 +03:00 [INF] Hosting environment: Development
2025-06-08 17:26:19.091 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 17:26:19.091 +03:00 [DBG] Hosting started
2025-06-08 17:26:19.321 +03:00 [DBG] Connection id "0HND6J1NOPDPS" received FIN.
2025-06-08 17:26:19.321 +03:00 [DBG] Connection id "0HND6J1NOPDPR" received FIN.
2025-06-08 17:26:19.325 +03:00 [DBG] Connection id "0HND6J1NOPDPS" accepted.
2025-06-08 17:26:19.325 +03:00 [DBG] Connection id "0HND6J1NOPDPR" accepted.
2025-06-08 17:26:19.326 +03:00 [DBG] Connection id "0HND6J1NOPDPS" started.
2025-06-08 17:26:19.327 +03:00 [DBG] Connection id "0HND6J1NOPDPR" started.
2025-06-08 17:26:19.334 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:26:19.334 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:26:19.343 +03:00 [DBG] Connection id "0HND6J1NOPDPS" stopped.
2025-06-08 17:26:19.343 +03:00 [DBG] Connection id "0HND6J1NOPDPR" stopped.
2025-06-08 17:26:19.345 +03:00 [DBG] Connection id "0HND6J1NOPDPR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:26:19.345 +03:00 [DBG] Connection id "0HND6J1NOPDPS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:26:19.471 +03:00 [DBG] Connection id "0HND6J1NOPDPT" accepted.
2025-06-08 17:26:19.472 +03:00 [DBG] Connection id "0HND6J1NOPDPT" started.
2025-06-08 17:26:19.486 +03:00 [DBG] Connection 0HND6J1NOPDPT established using the following protocol: "Tls13"
2025-06-08 17:26:19.510 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 17:26:19.561 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 17:26:19.565 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:26:19.577 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 17:26:19.578 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:26:19.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 75.8134ms
2025-06-08 17:26:19.585 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 17:26:23.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-06-08 17:26:23.143 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-08 17:26:23.144 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-08 17:26:23.151 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-08 17:26:23.152 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-08 17:26:23.153 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.6813ms
2025-06-08 17:26:23.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:26:23.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2025-06-08 17:26:23.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-06-08 17:26:23.174 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 10.0682ms
2025-06-08 17:26:23.177 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:26:23.178 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-08 17:26:23.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 499 152034 text/css 15.6534ms
2025-06-08 17:26:23.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1603ms
2025-06-08 17:26:23.205 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:26:23.207 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:26:23.209 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:26:23.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 4.2652ms
2025-06-08 17:26:23.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:26:23.232 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.4143ms
2025-06-08 17:26:37.962 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - null null
2025-06-08 17:26:37.963 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:26:37.968 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/ALFKI/orders'
2025-06-08 17:26:37.969 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/ALFKI/orders'
2025-06-08 17:26:37.970 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:26:37.971 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:26:37.982 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 17:26:37.984 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 17:26:37.984 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 17:26:37.985 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 17:26:37.986 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 17:26:37.986 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 17:26:37.988 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:26:37.989 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 17:26:37.994 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 17:26:37.996 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 17:26:37.997 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:26:37.997 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 17:26:37.998 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 17:26:38.001 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 17:26:38.002 +03:00 [INF] START: CustomersController. GetClientById(ALFKI)
2025-06-08 17:26:38.007 +03:00 [INF] START: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:26:43.791 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 17:26:43.808 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(c => c.CustomerID == __customerId_0)'
2025-06-08 17:26:43.887 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-06-08 17:26:43.903 +03:00 [DBG] Creating DbConnection.
2025-06-08 17:26:43.904 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 17:26:43.904 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:43.905 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:43.905 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:26:43.906 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:26:43.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 17:26:43.909 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:26:43.920 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 17:26:43.921 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:26:43.922 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 17:26:43.923 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:43.923 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:26:43.928 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(o => o.CustomerID == __customerId_0)
    .Select(o => new CustomerOrderResponse{ 
        OrderID = o.OrderID, 
        OrderDate = o.OrderDate, 
        RequiredDate = o.RequiredDate, 
        ShippedDate = o.ShippedDate, 
        Total = o.OrderDetails
            .Sum(od => od.UnitPrice * (decimal)od.Quantity * (decimal)(1 - od.Discount)), 
        ProductCount = o.OrderDetails
            .Sum(od => (int)od.Quantity), 
        Warning = o.OrderDetails
            .Any(od => od.Product.Discontinued || (int)od.Product.UnitsInStock < (int)od.Product.UnitsOnOrder) ? "Order contains discontinued products or insufficient stock." : null 
    }
    )'
2025-06-08 17:26:43.963 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerOrderResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM Order Details AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM Order Details AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM Order Details AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            OrderID -> 0
            OrderDate -> 1
            RequiredDate -> 2
            ShippedDate -> 3
            Total -> 4
            ProductCount -> 5
            Warning -> 6
        SELECT o.OrderID, o.OrderDate, o.RequiredDate, o.ShippedDate, (
            SELECT SUM((o0.UnitPrice * CAST(o0.Quantity AS decimal(18,2))) * CAST(CAST(1 AS real) - o0.Discount AS decimal(18,2)))
            FROM Order Details AS o0
            WHERE (o.OrderID != NULL) && (o.OrderID == o0.OrderID)) AS Total, (
            SELECT SUM(CAST(o1.Quantity AS int))
            FROM Order Details AS o1
            WHERE (o.OrderID != NULL) && (o.OrderID == o1.OrderID)) AS ProductCount, CASE
            WHEN EXISTS (
                SELECT 1
                FROM Order Details AS o2
                INNER JOIN Products AS p ON o2.ProductID == p.ProductID
                WHERE ((o.OrderID != NULL) && (o.OrderID == o2.OrderID)) && (p.Discontinued || (p.UnitsInStock < p.UnitsOnOrder))) THEN N'Order contains discontinued products or insufficient stock.'
        END AS Warning
        FROM Orders AS o
        WHERE o.CustomerID == @__customerId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        DateTime? value2;
        DateTime? value3;
        DateTime? value4;
        decimal? value5;
        int? value6;
        string value7;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
        value3 = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
        value4 = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
        value5 = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
        value6 = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
        value7 = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
        return new CustomerOrderResponse{ 
            OrderID = (int)value1, 
            OrderDate = value2, 
            RequiredDate = value3, 
            ShippedDate = value4, 
            Total = (decimal)value5, 
            ProductCount = (int)value6, 
            Warning = value7 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 17:26:43.973 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:43.974 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:43.975 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 17:26:43.975 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 17:26:43.976 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 17:26:43.977 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [Order Details] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [Order Details] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order Details] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:26:43.999 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderID], [o].[OrderDate], [o].[RequiredDate], [o].[ShippedDate], (
    SELECT COALESCE(SUM([o0].[UnitPrice] * CAST([o0].[Quantity] AS decimal(18,2)) * CAST(CAST(1 AS real) - [o0].[Discount] AS decimal(18,2))), 0.0)
    FROM [Order Details] AS [o0]
    WHERE [o].[OrderID] = [o0].[OrderID]) AS [Total], (
    SELECT COALESCE(SUM(CAST([o1].[Quantity] AS int)), 0)
    FROM [Order Details] AS [o1]
    WHERE [o].[OrderID] = [o1].[OrderID]) AS [ProductCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Order Details] AS [o2]
        INNER JOIN [Products] AS [p] ON [o2].[ProductID] = [p].[ProductID]
        WHERE [o].[OrderID] = [o2].[OrderID] AND ([p].[Discontinued] = CAST(1 AS bit) OR [p].[UnitsInStock] < [p].[UnitsOnOrder])) THEN N'Order contains discontinued products or insufficient stock.'
END AS [Warning]
FROM [Orders] AS [o]
WHERE [o].[CustomerID] = @__customerId_0
2025-06-08 17:26:44.005 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 17:26:44.005 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 5ms reading results.
2025-06-08 17:26:44.007 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:44.007 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 17:26:44.008 +03:00 [INF] END: CustomerHandler. GetCustomerOrdersAsync(ALFKI)
2025-06-08 17:26:44.008 +03:00 [INF] END: CustomersController. GetClientById(ALFKI)
2025-06-08 17:26:44.010 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 17:26:44.012 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 17:26:44.012 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 17:26:44.013 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 17:26:44.013 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 17:26:44.014 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomerOrderResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 17:26:44.023 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 6034.9664ms
2025-06-08 17:26:44.024 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 17:26:44.026 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 17:26:44.027 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 17:26:44.028 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 17:26:44.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/ALFKI/orders - 200 null application/json; charset=utf-8 6066.8829ms
2025-06-08 17:29:34.068 +03:00 [DBG] Connection id "0HND6J1NOPDPT" received FIN.
2025-06-08 17:29:34.072 +03:00 [DBG] Connection id "0HND6J1NOPDPT" is closed. The last processed stream ID was 17.
2025-06-08 17:29:34.072 +03:00 [DBG] Connection id "0HND6J1NOPDPT" is closing.
2025-06-08 17:29:34.072 +03:00 [DBG] Connection id "0HND6J1NOPDPT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:29:34.074 +03:00 [DBG] The connection queue processing loop for 0HND6J1NOPDPT completed.
2025-06-08 17:29:34.075 +03:00 [DBG] Connection id "0HND6J1NOPDPT" stopped.
2025-06-08 17:30:08.670 +03:00 [DBG] Connection id "0HND6J1NOPDPU" accepted.
2025-06-08 17:30:08.672 +03:00 [DBG] Connection id "0HND6J1NOPDPU" started.
2025-06-08 17:30:08.678 +03:00 [DBG] Connection 0HND6J1NOPDPU established using the following protocol: "Tls13"
2025-06-08 17:30:08.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/metrics - null null
2025-06-08 17:30:08.683 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:30:08.683 +03:00 [DBG] 1 candidate(s) found for the request path '/metrics'
2025-06-08 17:30:08.684 +03:00 [DBG] Request matched endpoint 'Prometheus metrics'
2025-06-08 17:30:08.685 +03:00 [INF] Executing endpoint 'Prometheus metrics'
2025-06-08 17:30:08.725 +03:00 [INF] Executed endpoint 'Prometheus metrics'
2025-06-08 17:30:08.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/metrics - 200 null text/plain; version=0.0.4; charset=utf-8 46.4395ms
2025-06-08 17:30:08.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - null null
2025-06-08 17:30:08.741 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 17:30:08.742 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-06-08 17:30:08.743 +03:00 [DBG] Request did not match any endpoints
2025-06-08 17:30:08.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - 499 null null 7.3767ms
2025-06-08 17:30:08.746 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/favicon.ico, Response status code: 499
2025-06-08 17:32:58.774 +03:00 [DBG] Connection id "0HND6J1NOPDPU" received FIN.
2025-06-08 17:32:58.774 +03:00 [DBG] Connection id "0HND6J1NOPDPU" is closing.
2025-06-08 17:32:58.775 +03:00 [DBG] Connection id "0HND6J1NOPDPU" is closed. The last processed stream ID was 5.
2025-06-08 17:32:58.777 +03:00 [DBG] The connection queue processing loop for 0HND6J1NOPDPU completed.
2025-06-08 17:32:58.778 +03:00 [DBG] Connection id "0HND6J1NOPDPU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:32:58.789 +03:00 [DBG] Connection id "0HND6J1NOPDPU" stopped.
2025-06-08 17:55:38.945 +03:00 [DBG] Connection id "0HND6J1NOPDPV" received FIN.
2025-06-08 17:55:38.948 +03:00 [DBG] Connection id "0HND6J1NOPDPV" accepted.
2025-06-08 17:55:38.950 +03:00 [DBG] Connection id "0HND6J1NOPDPV" started.
2025-06-08 17:55:38.953 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 17:55:38.955 +03:00 [DBG] Connection id "0HND6J1NOPDPV" stopped.
2025-06-08 17:55:38.955 +03:00 [DBG] Connection id "0HND6J1NOPDPV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:55:38.958 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" accepted.
2025-06-08 17:55:38.959 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" started.
2025-06-08 17:55:38.971 +03:00 [DBG] Connection 0HND6J1NOPDQ0 established using the following protocol: "Tls13"
2025-06-08 17:55:38.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-06-08 17:55:38.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 2.044ms
2025-06-08 17:55:38.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - null null
2025-06-08 17:55:39.004 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-06-08 17:55:39.005 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-08 17:55:39.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - 499 665 image/png 5.8513ms
2025-06-08 17:55:39.026 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-08 17:55:39.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2.8386ms
2025-06-08 17:58:29.734 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" received FIN.
2025-06-08 17:58:29.734 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" is closing.
2025-06-08 17:58:29.737 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" is closed. The last processed stream ID was 7.
2025-06-08 17:58:29.739 +03:00 [DBG] The connection queue processing loop for 0HND6J1NOPDQ0 completed.
2025-06-08 17:58:29.740 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 17:58:29.752 +03:00 [DBG] Connection id "0HND6J1NOPDQ0" stopped.
2025-06-08 18:18:36.060 +03:00 [INF] Starting web host
2025-06-08 18:18:36.316 +03:00 [DBG] Hosting starting
2025-06-08 18:18:36.416 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 18:18:36.584 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 18:18:36.640 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:18:36.641 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:18:36.641 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:18:36.667 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:18:36.673 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:18:36.687 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 18:18:36.689 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.791 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.795 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:18:36.797 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 18:18:36.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 18:18:36.802 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:18:36.812 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:18:36.814 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.817 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 18:18:36.818 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 18:18:36.822 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 18:18:36.823 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.824 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.825 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.825 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:18:36.825 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:18:36.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:18:36.826 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:18:36.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:18:36.828 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.829 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:18:36.829 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.830 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.831 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 18:18:36.832 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:18:36.832 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:18:36.833 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:18:36.833 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 18:18:36.845 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 18:18:36.894 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 18:18:36.896 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 18:18:36.897 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:18:36.897 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:18:36.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 18:18:36.899 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 18:18:36.902 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 18:18:36.904 +03:00 [DBG] Committing transaction.
2025-06-08 18:18:36.905 +03:00 [DBG] Committed transaction.
2025-06-08 18:18:36.906 +03:00 [DBG] Disposing transaction.
2025-06-08 18:18:36.907 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 18:18:36.908 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 18:18:36.909 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:18:36.909 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:18:36.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:18:36.910 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:18:36.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:18:36.912 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:18:36.912 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:18:36.913 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 18:18:36.913 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 18:18:36.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 18:18:36.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:18:36.916 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:18:36.917 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:18:36.917 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 18:18:36.935 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 18:18:36.937 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.938 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 18:18:36.941 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 18:18:36.941 +03:00 [DBG] Committing transaction.
2025-06-08 18:18:36.942 +03:00 [DBG] Committed transaction.
2025-06-08 18:18:36.942 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:18:36.942 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:18:36.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:18:36.943 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 18:18:36.959 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 18:18:36.960 +03:00 [DBG] Disposing transaction.
2025-06-08 18:18:36.960 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.961 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:18:36.961 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 18:18:36.962 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:18:36.963 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:18:36.964 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:18:36.996 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 18:18:37.081 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 18:18:37.081 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 18:18:37.082 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 18:18:37.082 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 18:18:37.082 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 18:18:37.083 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 18:18:37.121 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 18:18:37.122 +03:00 [INF] Hosting environment: Development
2025-06-08 18:18:37.122 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 18:18:37.123 +03:00 [DBG] Hosting started
2025-06-08 18:18:37.438 +03:00 [DBG] Connection id "0HND6JUV06PT8" accepted.
2025-06-08 18:18:37.438 +03:00 [DBG] Connection id "0HND6JUV06PT9" accepted.
2025-06-08 18:18:37.439 +03:00 [DBG] Connection id "0HND6JUV06PT8" started.
2025-06-08 18:18:37.439 +03:00 [DBG] Connection id "0HND6JUV06PT9" started.
2025-06-08 18:18:37.464 +03:00 [DBG] Connection id "0HND6JUV06PT9" received FIN.
2025-06-08 18:18:37.464 +03:00 [DBG] Connection id "0HND6JUV06PT8" received FIN.
2025-06-08 18:18:37.472 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 18:18:37.472 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 18:18:37.484 +03:00 [DBG] Connection id "0HND6JUV06PT8" stopped.
2025-06-08 18:18:37.484 +03:00 [DBG] Connection id "0HND6JUV06PT9" stopped.
2025-06-08 18:18:37.485 +03:00 [DBG] Connection id "0HND6JUV06PT8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:18:37.485 +03:00 [DBG] Connection id "0HND6JUV06PT9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:18:37.597 +03:00 [DBG] Connection id "0HND6JUV06PTA" accepted.
2025-06-08 18:18:37.598 +03:00 [DBG] Connection id "0HND6JUV06PTA" started.
2025-06-08 18:18:37.611 +03:00 [DBG] Connection 0HND6JUV06PTA established using the following protocol: "Tls13"
2025-06-08 18:18:37.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 18:18:37.674 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 18:18:37.677 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:18:37.689 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 18:18:37.689 +03:00 [DBG] Request did not match any endpoints
2025-06-08 18:18:37.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 61.7762ms
2025-06-08 18:18:37.696 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 18:21:28.409 +03:00 [DBG] Connection id "0HND6JUV06PTA" received FIN.
2025-06-08 18:21:28.416 +03:00 [DBG] Connection id "0HND6JUV06PTA" is closed. The last processed stream ID was 3.
2025-06-08 18:21:28.416 +03:00 [DBG] Connection id "0HND6JUV06PTA" is closing.
2025-06-08 18:21:28.417 +03:00 [DBG] Connection id "0HND6JUV06PTA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:21:28.418 +03:00 [DBG] The connection queue processing loop for 0HND6JUV06PTA completed.
2025-06-08 18:21:28.419 +03:00 [DBG] Connection id "0HND6JUV06PTA" stopped.
2025-06-08 18:22:21.616 +03:00 [DBG] Connection id "0HND6JUV06PTB" accepted.
2025-06-08 18:22:21.619 +03:00 [DBG] Connection id "0HND6JUV06PTB" started.
2025-06-08 18:22:21.623 +03:00 [DBG] Connection 0HND6JUV06PTB established using the following protocol: "Tls13"
2025-06-08 18:22:21.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/customers - null null
2025-06-08 18:22:21.631 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:22:21.634 +03:00 [DBG] 1 candidate(s) found for the request path '/customers'
2025-06-08 18:22:21.635 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)' with route pattern 'customers' is valid for the request path '/customers'
2025-06-08 18:22:21.636 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 18:22:21.638 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 18:22:21.647 +03:00 [INF] Route matched with {action = "GetClients", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients() on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 18:22:21.649 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 18:22:21.649 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 18:22:21.650 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 18:22:21.650 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 18:22:21.651 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 18:22:21.652 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:22:21.653 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:22:21.655 +03:00 [INF] START: CustomersController. GetClients()
2025-06-08 18:22:21.659 +03:00 [INF] START: CustomerHandler. GetAllCustomersAsync()
2025-06-08 18:22:21.665 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:22:21.686 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomersResponse{ 
        CustomerID = c.CustomerID, 
        CompanyName = c.CompanyName 
    }
    )'
2025-06-08 18:22:21.761 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomersResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            CustomerID -> 0
            CompanyName -> 1
        SELECT c.CustomerID, c.CompanyName
        FROM Customers AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        value1 = dataReader.GetString(0);
        value2 = dataReader.GetString(1);
        return new CustomersResponse{ 
            CustomerID = value1, 
            CompanyName = value2 
        }
        ;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-08 18:22:21.773 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:22:21.774 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 18:22:21.775 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:21.776 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:21.777 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:22:21.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:22:21.778 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 18:22:21.778 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 18:22:21.792 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[CompanyName]
FROM [Customers] AS [c]
2025-06-08 18:22:21.798 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:22:21.798 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 5ms reading results.
2025-06-08 18:22:21.800 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:21.800 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:22:21.801 +03:00 [INF] END: CustomerHandler. GetAllCustomersAsync()
2025-06-08 18:22:21.802 +03:00 [INF] END: CustomersController. GetClients()
2025-06-08 18:22:21.803 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08 18:22:21.805 +03:00 [DBG] No information found on request to perform content negotiation.
2025-06-08 18:22:21.805 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08 18:22:21.806 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08 18:22:21.806 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-08 18:22:21.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CO.API.Models.CustomersResponse, CO.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 18:22:21.817 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClients (CO.API) in 164.4782ms
2025-06-08 18:22:21.818 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClients (CO.API)'
2025-06-08 18:22:21.820 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:22:21.821 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:21.822 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:22:21.822 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/customers - 200 null application/json; charset=utf-8 195.1773ms
2025-06-08 18:22:30.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/test - null null
2025-06-08 18:22:30.747 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:22:30.748 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/test'
2025-06-08 18:22:30.749 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/test'
2025-06-08 18:22:30.750 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:22:30.750 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:22:30.756 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 18:22:30.758 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 18:22:30.758 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 18:22:30.759 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 18:22:30.759 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 18:22:30.760 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 18:22:30.761 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:22:30.762 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:22:30.768 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 18:22:30.770 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 18:22:30.771 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:22:30.771 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:22:30.772 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 18:22:30.776 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 18:22:30.778 +03:00 [INF] START: CustomersController. GetClientById(test)
2025-06-08 18:22:30.778 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(test)
2025-06-08 18:22:30.811 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:22:30.819 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<string>(e, "CustomerID") == __p_0)'
2025-06-08 18:22:30.854 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<City>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CompanyName>k__BackingField = dataReader.GetString(3);
                                    instance.<ContactName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ContactTitle>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Country>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Fax>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<PostalCode>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Region>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 18:22:30.860 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:22:30.860 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 18:22:30.861 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:30.862 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:30.862 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:22:30.863 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:22:30.865 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 18:22:30.866 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 18:22:30.878 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 18:22:30.879 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:22:30.880 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 0ms reading results.
2025-06-08 18:22:30.881 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:30.881 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:22:30.907 +03:00 [ERR] ERROR: CustomerHandler. GetCustomerAsync(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
2025-06-08 18:22:30.926 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(test)
2025-06-08 18:22:30.940 +03:00 [ERR] ERROR: CustomersController. GetClientById(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 18:22:30.951 +03:00 [INF] END: CustomersController. GetClientById(test)
2025-06-08 18:22:30.952 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 191.904ms
2025-06-08 18:22:30.953 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:22:31.005 +03:00 [ERR] Unhandled exception occurred.
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 18:22:31.011 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6JUV06PTB:00000005"}
2025-06-08 18:22:31.013 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:22:31.013 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:31.014 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:22:31.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/test - 500 null application/json 269.6009ms
2025-06-08 18:22:54.592 +03:00 [INF] Starting web host
2025-06-08 18:22:54.838 +03:00 [DBG] Hosting starting
2025-06-08 18:22:54.932 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 18:22:55.100 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 18:22:55.159 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:22:55.159 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:22:55.160 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:22:55.186 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:22:55.192 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:22:55.206 +03:00 [DBG] Created DbConnection. (13ms).
2025-06-08 18:22:55.208 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.307 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.310 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:22:55.313 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 18:22:55.315 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 18:22:55.318 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:22:55.328 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:22:55.330 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.333 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 18:22:55.335 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 18:22:55.338 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 18:22:55.339 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.340 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.340 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.341 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:22:55.342 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:22:55.342 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:22:55.342 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:22:55.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:22:55.344 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.345 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:22:55.345 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.346 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.347 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 18:22:55.348 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:22:55.348 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:22:55.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 18:22:55.350 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 18:22:55.361 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 18:22:55.410 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 18:22:55.413 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 18:22:55.414 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:22:55.414 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:22:55.415 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 18:22:55.416 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 18:22:55.417 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 18:22:55.418 +03:00 [DBG] Committing transaction.
2025-06-08 18:22:55.420 +03:00 [DBG] Committed transaction.
2025-06-08 18:22:55.421 +03:00 [DBG] Disposing transaction.
2025-06-08 18:22:55.422 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 18:22:55.422 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 18:22:55.423 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:22:55.423 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:22:55.424 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 18:22:55.425 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:22:55.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:22:55.426 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:22:55.427 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:22:55.427 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:22:55.427 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 18:22:55.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 18:22:55.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:22:55.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:22:55.431 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 18:22:55.432 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 18:22:55.433 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 18:22:55.435 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.436 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 18:22:55.438 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 18:22:55.439 +03:00 [DBG] Committing transaction.
2025-06-08 18:22:55.439 +03:00 [DBG] Committed transaction.
2025-06-08 18:22:55.439 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:22:55.440 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:22:55.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:22:55.440 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 18:22:55.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 18:22:55.443 +03:00 [DBG] Disposing transaction.
2025-06-08 18:22:55.444 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.445 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:22:55.446 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 18:22:55.447 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:22:55.448 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:55.448 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:22:55.480 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 18:22:55.563 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 18:22:55.564 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 18:22:55.564 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 18:22:55.564 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 18:22:55.565 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 18:22:55.565 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 18:22:55.604 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 18:22:55.604 +03:00 [INF] Hosting environment: Development
2025-06-08 18:22:55.605 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 18:22:55.605 +03:00 [DBG] Hosting started
2025-06-08 18:22:55.662 +03:00 [DBG] Connection id "0HND6K1BUQKUI" accepted.
2025-06-08 18:22:55.663 +03:00 [DBG] Connection id "0HND6K1BUQKUI" started.
2025-06-08 18:22:55.674 +03:00 [DBG] Connection id "0HND6K1BUQKUJ" accepted.
2025-06-08 18:22:55.674 +03:00 [DBG] Connection id "0HND6K1BUQKUJ" started.
2025-06-08 18:22:55.705 +03:00 [DBG] Connection id "0HND6K1BUQKUI" received FIN.
2025-06-08 18:22:55.705 +03:00 [DBG] Connection id "0HND6K1BUQKUJ" received FIN.
2025-06-08 18:22:55.712 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 18:22:55.712 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 18:22:55.722 +03:00 [DBG] Connection id "0HND6K1BUQKUI" stopped.
2025-06-08 18:22:55.722 +03:00 [DBG] Connection id "0HND6K1BUQKUJ" stopped.
2025-06-08 18:22:55.723 +03:00 [DBG] Connection id "0HND6K1BUQKUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:22:55.723 +03:00 [DBG] Connection id "0HND6K1BUQKUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:22:55.856 +03:00 [DBG] Connection id "0HND6K1BUQKUK" accepted.
2025-06-08 18:22:55.856 +03:00 [DBG] Connection id "0HND6K1BUQKUK" started.
2025-06-08 18:22:55.869 +03:00 [DBG] Connection 0HND6K1BUQKUK established using the following protocol: "Tls13"
2025-06-08 18:22:55.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 18:22:55.932 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 18:22:55.935 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:22:55.949 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 18:22:55.950 +03:00 [DBG] Request did not match any endpoints
2025-06-08 18:22:55.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 64.8433ms
2025-06-08 18:22:55.956 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 18:22:58.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/test - null null
2025-06-08 18:22:58.502 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:22:58.505 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/test'
2025-06-08 18:22:58.506 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/test'
2025-06-08 18:22:58.507 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:22:58.508 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:22:58.520 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 18:22:58.522 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 18:22:58.523 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 18:22:58.523 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 18:22:58.524 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 18:22:58.525 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 18:22:58.526 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:22:58.527 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:22:58.532 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 18:22:58.534 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 18:22:58.535 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:22:58.535 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:22:58.536 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 18:22:58.538 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 18:22:58.540 +03:00 [INF] START: CustomersController. GetClientById(test)
2025-06-08 18:22:58.541 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(test)
2025-06-08 18:22:58.546 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:22:58.576 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<string>(e, "CustomerID") == __p_0)'
2025-06-08 18:22:58.667 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<City>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CompanyName>k__BackingField = dataReader.GetString(3);
                                    instance.<ContactName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ContactTitle>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Country>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Fax>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<PostalCode>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Region>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 18:22:58.683 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:22:58.683 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 18:22:58.684 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:58.686 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:58.686 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:22:58.687 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:22:58.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 18:22:58.690 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 18:22:58.704 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 18:22:58.710 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:22:58.711 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 5ms reading results.
2025-06-08 18:22:58.712 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:22:58.713 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:23:09.293 +03:00 [ERR] ERROR: CustomerHandler. GetCustomerAsync(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
2025-06-08 18:23:10.685 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(test)
2025-06-08 18:23:11.062 +03:00 [ERR] ERROR: CustomersController. GetClientById(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 18:23:11.073 +03:00 [INF] END: CustomersController. GetClientById(test)
2025-06-08 18:23:11.076 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 12549.5021ms
2025-06-08 18:23:11.077 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:23:11.127 +03:00 [ERR] Unhandled exception occurred.
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-06-08 18:23:11.133 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"An unexpected error occurred.","traceId":"0HND6K1BUQKUK:00000005"}
2025-06-08 18:23:11.134 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:23:11.136 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:23:11.137 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:23:11.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/test - 500 null application/json 12636.771ms
2025-06-08 18:30:43.265 +03:00 [INF] Starting web host
2025-06-08 18:30:43.512 +03:00 [DBG] Hosting starting
2025-06-08 18:30:43.608 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-08 18:30:43.781 +03:00 [DBG] The index {'OrderID'} was not created on entity type 'OrderDetail' as the properties are already covered by the index {'OrderID', 'ProductID'}.
2025-06-08 18:30:43.836 +03:00 [WRN] No store type was specified for the decimal property 'Freight' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:30:43.837 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:30:43.838 +03:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-08 18:30:43.863 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:30:43.869 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:30:43.883 +03:00 [DBG] Created DbConnection. (12ms).
2025-06-08 18:30:43.885 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:43.985 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:43.989 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:30:43.992 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-06-08 18:30:43.993 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-06-08 18:30:43.996 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:30:44.007 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:30:44.008 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.012 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (2ms).
2025-06-08 18:30:44.013 +03:00 [INF] Database exists. Applying EF Core migrations...
2025-06-08 18:30:44.017 +03:00 [INF] No migrations were found in assembly 'CO.API'. A migration needs to be added before the database can be updated.
2025-06-08 18:30:44.018 +03:00 [DBG] Migrating using database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.018 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.019 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.020 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:30:44.020 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:30:44.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:30:44.021 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:30:44.022 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:30:44.023 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.023 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:30:44.024 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.025 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.025 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 18:30:44.027 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:30:44.027 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:30:44.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-08 18:30:44.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 18:30:44.040 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-08 18:30:44.090 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 18:30:44.093 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 18:30:44.094 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:30:44.094 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:30:44.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-08 18:30:44.095 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 18:30:44.099 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-08 18:30:44.100 +03:00 [DBG] Committing transaction.
2025-06-08 18:30:44.102 +03:00 [DBG] Committed transaction.
2025-06-08 18:30:44.102 +03:00 [DBG] Disposing transaction.
2025-06-08 18:30:44.103 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-08 18:30:44.104 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-08 18:30:44.105 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-08 18:30:44.105 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:30:44.106 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-08 18:30:44.107 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:30:44.107 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-08 18:30:44.108 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:30:44.109 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:30:44.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:30:44.110 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 18:30:44.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-08 18:30:44.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:30:44.112 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:30:44.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:30:44.113 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 18:30:44.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-08 18:30:44.117 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.118 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 1ms reading results.
2025-06-08 18:30:44.120 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-08 18:30:44.121 +03:00 [DBG] Committing transaction.
2025-06-08 18:30:44.121 +03:00 [DBG] Committed transaction.
2025-06-08 18:30:44.121 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-08 18:30:44.122 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:30:44.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-08 18:30:44.123 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 18:30:44.126 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-08 18:30:44.127 +03:00 [DBG] Disposing transaction.
2025-06-08 18:30:44.127 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.128 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:30:44.128 +03:00 [INF] EF Core migrations applied successfully.
2025-06-08 18:30:44.129 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:30:44.130 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:44.131 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:30:44.161 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08 18:30:44.246 +03:00 [INF] Now listening on: https://localhost:5001
2025-06-08 18:30:44.246 +03:00 [INF] Now listening on: http://localhost:5000
2025-06-08 18:30:44.247 +03:00 [DBG] Loaded hosting startup assembly CO.API
2025-06-08 18:30:44.247 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-08 18:30:44.247 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-08 18:30:44.248 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-08 18:30:44.266 +03:00 [DBG] Connection id "0HND6K5NJP28S" accepted.
2025-06-08 18:30:44.267 +03:00 [DBG] Connection id "0HND6K5NJP28S" started.
2025-06-08 18:30:44.278 +03:00 [DBG] Connection id "0HND6K5NJP28T" accepted.
2025-06-08 18:30:44.278 +03:00 [DBG] Connection id "0HND6K5NJP28T" started.
2025-06-08 18:30:44.288 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 18:30:44.288 +03:00 [INF] Hosting environment: Development
2025-06-08 18:30:44.289 +03:00 [INF] Content root path: C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API
2025-06-08 18:30:44.289 +03:00 [DBG] Hosting started
2025-06-08 18:30:44.309 +03:00 [DBG] Connection id "0HND6K5NJP28T" received FIN.
2025-06-08 18:30:44.309 +03:00 [DBG] Connection id "0HND6K5NJP28S" received FIN.
2025-06-08 18:30:44.316 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 18:30:44.316 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-08 18:30:44.329 +03:00 [DBG] Connection id "0HND6K5NJP28T" stopped.
2025-06-08 18:30:44.329 +03:00 [DBG] Connection id "0HND6K5NJP28S" stopped.
2025-06-08 18:30:44.330 +03:00 [DBG] Connection id "0HND6K5NJP28S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:30:44.330 +03:00 [DBG] Connection id "0HND6K5NJP28T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:30:44.458 +03:00 [DBG] Connection id "0HND6K5NJP28U" accepted.
2025-06-08 18:30:44.458 +03:00 [DBG] Connection id "0HND6K5NJP28U" started.
2025-06-08 18:30:44.470 +03:00 [DBG] Connection 0HND6K5NJP28U established using the following protocol: "Tls13"
2025-06-08 18:30:44.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-06-08 18:30:44.535 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-08 18:30:44.537 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:30:44.550 +03:00 [DBG] No candidates found for the request path '/'
2025-06-08 18:30:44.551 +03:00 [DBG] Request did not match any endpoints
2025-06-08 18:30:44.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 63.4914ms
2025-06-08 18:30:44.557 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-06-08 18:30:49.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/test - null null
2025-06-08 18:30:49.112 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:30:49.115 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/test'
2025-06-08 18:30:49.116 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)' with route pattern 'Customers/{id}' is valid for the request path '/Customers/test'
2025-06-08 18:30:49.116 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:30:49.118 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:30:49.129 +03:00 [INF] Route matched with {action = "GetClientById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 18:30:49.131 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 18:30:49.131 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 18:30:49.132 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 18:30:49.133 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 18:30:49.134 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 18:30:49.135 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:30:49.136 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:30:49.142 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 18:30:49.143 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 18:30:49.144 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:30:49.145 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:30:49.145 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 18:30:49.148 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 18:30:49.149 +03:00 [INF] START: CustomersController. GetClientById(test)
2025-06-08 18:30:49.150 +03:00 [INF] START: CustomerHandler. GetCustomerAsync(test)
2025-06-08 18:30:49.155 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:30:49.186 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<string>(e, "CustomerID") == __p_0)'
2025-06-08 18:30:49.279 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.CustomerID (string) Required PK AfterSave:Throw, 0], [Property: Customer.Address (string), 1], [Property: Customer.City (string), 2], [Property: Customer.CompanyName (string) Required, 3], [Property: Customer.ContactName (string), 4], [Property: Customer.ContactTitle (string), 5], [Property: Customer.Country (string), 6], [Property: Customer.Fax (string), 7], [Property: Customer.Phone (string), 8], [Property: Customer.PostalCode (string), 9], [Property: Customer.Region (string), 10] }
            SELECT TOP(1) c.CustomerID, c.Address, c.City, c.CompanyName, c.ContactName, c.ContactTitle, c.Country, c.Fax, c.Phone, c.PostalCode, c.Region
            FROM Customers AS c
            WHERE c.CustomerID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.CustomerID PK | Resolver: c => c.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<CustomerID>k__BackingField = dataReader.GetString(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<City>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CompanyName>k__BackingField = dataReader.GetString(3);
                                    instance.<ContactName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ContactTitle>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Country>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Fax>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<PostalCode>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Region>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CO.API.Data.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CO.API.Data.ApiDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-08 18:30:49.295 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:30:49.296 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 18:30:49.297 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:49.298 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:49.299 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:30:49.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:30:49.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-08 18:30:49.303 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 18:30:49.320 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerID], [c].[Address], [c].[City], [c].[CompanyName], [c].[ContactName], [c].[ContactTitle], [c].[Country], [c].[Fax], [c].[Phone], [c].[PostalCode], [c].[Region]
FROM [Customers] AS [c]
WHERE [c].[CustomerID] = @__p_0
2025-06-08 18:30:49.326 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:30:49.327 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 5ms reading results.
2025-06-08 18:30:49.328 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:49.329 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:30:53.588 +03:00 [ERR] ERROR: CustomerHandler. GetCustomerAsync(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
2025-06-08 18:30:53.605 +03:00 [INF] END: CustomerHandler. GetCustomerAsync(test)
2025-06-08 18:30:53.618 +03:00 [ERR] ERROR: CustomersController. GetClientById(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
2025-06-08 18:30:53.630 +03:00 [INF] END: CustomersController. GetClientById(test)
2025-06-08 18:30:53.633 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientById (CO.API) in 4497.5551ms
2025-06-08 18:30:53.634 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientById (CO.API)'
2025-06-08 18:30:53.685 +03:00 [ERR] Unhandled exception occurred.
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 44
   at CO.API.Controllers.CustomersController.GetClientById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 17
2025-06-08 18:30:53.692 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"Customer with ID \u0027test\u0027 not found.","traceId":"0HND6K5NJP28U:00000005"}
2025-06-08 18:30:53.694 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:30:53.696 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:30:53.696 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:30:53.697 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/test - 404 null application/json 4587.1356ms
2025-06-08 18:31:02.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Customers/test/orders - null null
2025-06-08 18:31:02.004 +03:00 [DBG] The request path  does not match the path filter
2025-06-08 18:31:02.006 +03:00 [DBG] 1 candidate(s) found for the request path '/Customers/test/orders'
2025-06-08 18:31:02.007 +03:00 [DBG] Endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)' with route pattern 'Customers/{id}/orders' is valid for the request path '/Customers/test/orders'
2025-06-08 18:31:02.008 +03:00 [DBG] Request matched endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 18:31:02.009 +03:00 [INF] Executing endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 18:31:02.013 +03:00 [INF] Route matched with {action = "GetClientOrdersById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientOrdersById(System.String) on controller CO.API.Controllers.CustomersController (CO.API).
2025-06-08 18:31:02.014 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-08 18:31:02.015 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-08 18:31:02.016 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-08 18:31:02.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-08 18:31:02.017 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-08 18:31:02.018 +03:00 [DBG] Executing controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:31:02.019 +03:00 [DBG] Executed controller factory for controller CO.API.Controllers.CustomersController (CO.API)
2025-06-08 18:31:02.020 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-06-08 18:31:02.021 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-06-08 18:31:02.022 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:31:02.022 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-06-08 18:31:02.023 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-06-08 18:31:02.023 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-06-08 18:31:02.024 +03:00 [INF] START: CustomersController. GetClientById(test)
2025-06-08 18:31:02.026 +03:00 [INF] START: CustomerHandler. GetCustomerOrdersAsync(test)
2025-06-08 18:31:02.055 +03:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.5' with options: EngineType=SqlServer 
2025-06-08 18:31:02.058 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Any(c => c.CustomerID == __customerId_0)'
2025-06-08 18:31:02.063 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Customers AS c
            WHERE c.CustomerID == @__customerId_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: CO.API.Data.ApiDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-06-08 18:31:02.069 +03:00 [DBG] Creating DbConnection.
2025-06-08 18:31:02.069 +03:00 [DBG] Created DbConnection. (0ms).
2025-06-08 18:31:02.069 +03:00 [DBG] Opening connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:31:02.070 +03:00 [DBG] Opened connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:31:02.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-08 18:31:02.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-08 18:31:02.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-08 18:31:02.072 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 18:31:02.075 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-08 18:31:02.077 +03:00 [DBG] Closing data reader to 'Northwind' on server 'localhost'.
2025-06-08 18:31:02.077 +03:00 [DBG] A data reader for 'Northwind' on server 'localhost' is being disposed after spending 0ms reading results.
2025-06-08 18:31:02.078 +03:00 [DBG] Closing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:31:02.078 +03:00 [DBG] Closed connection to database 'Northwind' on server 'localhost' (0ms).
2025-06-08 18:31:04.947 +03:00 [ERR] ERROR: CustomerHandler. GetCustomerOrdersAsync(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerOrdersAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 81
2025-06-08 18:31:04.963 +03:00 [INF] END: CustomerHandler. GetCustomerOrdersAsync(test)
2025-06-08 18:31:04.975 +03:00 [ERR] ERROR: CustomersController. GetClientById(test)
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerOrdersAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 81
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
2025-06-08 18:31:04.986 +03:00 [INF] END: CustomersController. GetClientById(test)
2025-06-08 18:31:04.988 +03:00 [INF] Executed action CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API) in 2970.0333ms
2025-06-08 18:31:04.989 +03:00 [INF] Executed endpoint 'CO.API.Controllers.CustomersController.GetClientOrdersById (CO.API)'
2025-06-08 18:31:05.007 +03:00 [ERR] Unhandled exception occurred.
CO.API.Exceptions.CustomerNotFoundException: Customer with ID 'test' not found.
   at CO.API.Handlers.CustomerHandler.GetCustomerOrdersAsync(String customerId) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Handlers\CustomerHandler.cs:line 81
   at CO.API.Controllers.CustomersController.GetClientOrdersById(String id) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Controllers\CustomersController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Startup.<>c.<<Configure>b__4_0>d.MoveNext() in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Startup.cs:line 75
--- End of stack trace from previous location ---
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CO.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, ILogger`1 logger) in C:\Users\hrist\Documents\GitHub\CustomerOrders\CO.API\CO.API\Middleware\ExceptionHandlingMiddleware.cs:line 17
2025-06-08 18:31:05.010 +03:00 [ERR] ExceptionHandlingMiddleware: Error Response: {"message":"Customer with ID \u0027test\u0027 not found.","traceId":"0HND6K5NJP28U:00000007"}
2025-06-08 18:31:05.010 +03:00 [DBG] 'ApiDbContext' disposed.
2025-06-08 18:31:05.011 +03:00 [DBG] Disposing connection to database 'Northwind' on server 'localhost'.
2025-06-08 18:31:05.012 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-08 18:31:05.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Customers/test/orders - 404 null application/json 3010.4381ms
2025-06-08 18:33:55.643 +03:00 [DBG] Connection id "0HND6K5NJP28U" received FIN.
2025-06-08 18:33:55.648 +03:00 [DBG] Connection id "0HND6K5NJP28U" is closing.
2025-06-08 18:33:55.648 +03:00 [DBG] Connection id "0HND6K5NJP28U" is closed. The last processed stream ID was 7.
2025-06-08 18:33:55.649 +03:00 [DBG] Connection id "0HND6K5NJP28U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-08 18:33:55.650 +03:00 [DBG] The connection queue processing loop for 0HND6K5NJP28U completed.
2025-06-08 18:33:55.651 +03:00 [DBG] Connection id "0HND6K5NJP28U" stopped.
